{"version":3,"file":"static/js/532.757f914d.chunk.js","mappings":"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","sources":["BAICard.tsx","components/DatePickerISO.tsx","components/HiddenFormItem.tsx","components/ImageTags.tsx","components/__generated__/SessionOwnerSetterCardQuery.graphql.ts","components/PortSelectFormItem.tsx","components/SessionLauncherErrorTourProps.tsx","components/SessionNameFormItem.tsx","components/BAISelect.tsx","components/ResourceGroupSelect.tsx","components/SessionOwnerSetterCard.tsx","hooks/useRecentSessionHistory.tsx","components/SessionTemplateModal.tsx","pages/SessionLauncherPage.tsx"],"sourcesContent":["import { CloseCircleTwoTone, WarningTwoTone } from '@ant-design/icons';\nimport { Button, Card, CardProps, theme } from 'antd';\nimport _ from 'lodash';\nimport React, { ReactNode } from 'react';\n\nexport interface BAICardProps extends CardProps {\n  status?: 'success' | 'error' | 'warning' | 'default';\n  extraButtonTitle?: string | ReactNode;\n  onClickExtraButton?: () => void;\n  ref?: React.LegacyRef<HTMLDivElement> | undefined;\n}\n\nconst BAICard: React.FC<BAICardProps> = ({\n  status = 'default',\n  extraButtonTitle,\n  onClickExtraButton,\n  extra,\n  style,\n  ...cardProps\n}) => {\n  const { token } = theme.useToken();\n  const _extra =\n    extra ||\n    (extraButtonTitle && (\n      <Button\n        type=\"link\"\n        icon={\n          status === 'error' ? (\n            <CloseCircleTwoTone twoToneColor={token.colorError} />\n          ) : status === 'warning' ? (\n            <WarningTwoTone twoToneColor={token.colorWarning} />\n          ) : undefined\n        }\n        onClick={onClickExtraButton}\n      >\n        {extraButtonTitle}\n      </Button>\n    )) ||\n    undefined;\n  return (\n    <Card\n      className={status === 'error' ? 'bai-card-error' : ''}\n      style={_.extend(style, {\n        borderColor:\n          status === 'error'\n            ? token.colorError\n            : status === 'warning'\n              ? token.colorWarning\n              : status === 'success'\n                ? token.colorSuccess\n                : style?.borderColor, // default\n      })}\n      extra={_extra}\n      {...cardProps}\n    />\n  );\n};\n\nexport default BAICard;\n","import { useControllableValue } from 'ahooks';\nimport { DatePicker } from 'antd';\nimport { PickerProps } from 'antd/es/date-picker/generatePicker';\nimport { GetRef } from 'antd/lib';\nimport dayjs, { Dayjs } from 'dayjs';\nimport _ from 'lodash';\nimport React from 'react';\n\nexport interface DatePickerISOProps\n  extends Omit<PickerProps<Dayjs>, 'value' | 'onChange'> {\n  value?: string | undefined | null;\n  onChange?: (value: string | undefined) => void;\n  localFormat?: boolean;\n}\nconst DatePickerISO = React.forwardRef<\n  GetRef<typeof DatePicker>,\n  DatePickerISOProps\n>(({ value, onChange, localFormat, ...pickerProps }, ref) => {\n  const [, setControllableValue] = useControllableValue({\n    value,\n    onChange,\n  });\n\n  return (\n    <DatePicker\n      ref={ref}\n      value={value ? dayjs(value) : undefined}\n      onChange={(value) => {\n        if (_.isArray(value)) {\n          value = value[0];\n        }\n        const newValue = localFormat\n          ? value?.format()\n          : value?.tz()?.toISOString();\n        // \"2023-11-10T18:09:56+08:00\"\n        setControllableValue(newValue);\n      }}\n      {...pickerProps}\n    />\n  );\n});\n\nexport default DatePickerISO;\n","import { Form, FormItemProps } from 'antd';\nimport React, { useEffect } from 'react';\n\ninterface HiddenFormItemProps extends Omit<FormItemProps, 'children'> {\n  value: any;\n}\nconst HiddenFormItem: React.FC<HiddenFormItemProps> = ({ value, ...props }) => {\n  const form = Form.useFormInstance();\n  useEffect(() => {\n    form.setFieldValue(props.name, value);\n  }, [value, form, props.name]);\n  return <Form.Item {...props} hidden />;\n};\n\nexport default HiddenFormItem;\n","import { useBackendAIImageMetaData } from '../hooks';\nimport DoubleTag, { DoubleTagObjectValue } from './DoubleTag';\nimport Flex from './Flex';\nimport TextHighlighter from './TextHighlighter';\nimport { Tag, TagProps } from 'antd';\nimport React from 'react';\n\ninterface ImageAliasNameAndBaseVersionTagsProps\n  extends Omit<DoubleTagObjectValue, 'label'> {\n  image: string | null;\n}\nexport const ImageAliasNameAndBaseVersionTags: React.FC<\n  ImageAliasNameAndBaseVersionTagsProps\n> = ({ image, ...props }) => {\n  image = image || '';\n  const [, { getImageAliasName, getBaseVersion, tagAlias }] =\n    useBackendAIImageMetaData();\n  return (\n    <DoubleTag\n      values={[\n        {\n          label: tagAlias(getImageAliasName(image)),\n          color: 'blue',\n        },\n        {\n          label: getBaseVersion(image),\n          color: 'green',\n        },\n      ]}\n      {...props}\n    />\n  );\n};\n\ninterface BaseVersionTagsProps extends TagProps {\n  image: string | null;\n}\nexport const BaseVersionTags: React.FC<BaseVersionTagsProps> = ({\n  image,\n  ...props\n}) => {\n  image = image || '';\n  const [, { getBaseVersion, tagAlias }] = useBackendAIImageMetaData();\n  return (\n    <Tag color=\"green\" {...props}>\n      {tagAlias(getBaseVersion(image))}\n    </Tag>\n  );\n};\n\ninterface BaseImageTagsProps extends TagProps {\n  image: string | null;\n}\nexport const BaseImageTags: React.FC<BaseImageTagsProps> = ({\n  image,\n  ...props\n}) => {\n  image = image || '';\n  const [, { getBaseImage, tagAlias }] = useBackendAIImageMetaData();\n  return (\n    <Tag color=\"green\" {...props}>\n      {tagAlias(getBaseImage(image))}\n    </Tag>\n  );\n};\n\ninterface ArchitectureTagsProps extends TagProps {\n  image: string | null;\n}\nexport const ArchitectureTags: React.FC<ArchitectureTagsProps> = ({\n  image,\n  ...props\n}) => {\n  image = image || '';\n  const [, { getArchitecture, tagAlias }] = useBackendAIImageMetaData();\n  return (\n    <Tag color=\"green\" {...props}>\n      {tagAlias(getArchitecture(image))}\n    </Tag>\n  );\n};\n\ninterface LangTagsProps extends TagProps {\n  image: string | null;\n}\nexport const LangTags: React.FC<LangTagsProps> = ({ image, ...props }) => {\n  image = image || '';\n  const [, { getImageLang, tagAlias }] = useBackendAIImageMetaData();\n  return (\n    <Tag color=\"green\" {...props}>\n      {tagAlias(getImageLang(image))}\n    </Tag>\n  );\n};\n\ninterface ConstraintTagsProps extends TagProps {\n  tag: string;\n  labels: { key: string; value: string }[];\n  highlightKeyword?: string;\n}\nexport const ConstraintTags: React.FC<ConstraintTagsProps> = ({\n  tag,\n  labels,\n  highlightKeyword,\n  ...props\n}) => {\n  labels = labels || [];\n  const [, { getConstraints }] = useBackendAIImageMetaData();\n  const constraints = getConstraints(tag, labels);\n  return (\n    <Flex direction=\"row\" align=\"start\">\n      {constraints[0] ? (\n        <Tag color=\"blue\" {...props}>\n          <TextHighlighter keyword={highlightKeyword}>\n            {constraints[0]}\n          </TextHighlighter>\n        </Tag>\n      ) : null}\n      {constraints[1] ? (\n        <DoubleTag\n          color=\"cyan\"\n          values={[\n            {\n              label: (\n                <TextHighlighter keyword={highlightKeyword}>\n                  Customized\n                </TextHighlighter>\n              ),\n              color: 'cyan',\n            },\n            {\n              label: (\n                <TextHighlighter keyword={highlightKeyword}>\n                  {constraints[1]}\n                </TextHighlighter>\n              ),\n              color: 'cyan',\n            },\n          ]}\n          {...props}\n        />\n      ) : null}\n    </Flex>\n  );\n};\n\nconst SessionKernelTags: React.FC<{\n  image: string | null;\n  style?: React.CSSProperties;\n  border?: boolean;\n}> = ({ image, style = {} }, bordered) => {\n  image = image || '';\n  return (\n    <>\n      <ImageAliasNameAndBaseVersionTags image={image} />\n      <BaseImageTags image={image} />\n      <ArchitectureTags image={image} />\n    </>\n  );\n};\n\nexport default React.memo(SessionKernelTags);\n","/**\n * @generated SignedSource<<7fb275c8d975fa998bb8dde71c251b8c>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest, Query } from 'relay-runtime';\nexport type SessionOwnerSetterCardQuery$variables = {\n  email: string;\n};\nexport type SessionOwnerSetterCardQuery$data = {\n  readonly keypairs: ReadonlyArray<{\n    readonly access_key: string | null | undefined;\n  } | null | undefined> | null | undefined;\n  readonly user: {\n    readonly domain_name: string | null | undefined;\n    readonly groups: ReadonlyArray<{\n      readonly id: string | null | undefined;\n      readonly name: string | null | undefined;\n    } | null | undefined> | null | undefined;\n  } | null | undefined;\n};\nexport type SessionOwnerSetterCardQuery = {\n  response: SessionOwnerSetterCardQuery$data;\n  variables: SessionOwnerSetterCardQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"email\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"email\",\n    \"variableName\": \"email\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"access_key\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"domain_name\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"concreteType\": \"UserGroup\",\n  \"kind\": \"LinkedField\",\n  \"name\": \"groups\",\n  \"plural\": true,\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"name\",\n      \"storageKey\": null\n    },\n    (v4/*: any*/)\n  ],\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"SessionOwnerSetterCardQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"KeyPair\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"keypairs\",\n        \"plural\": true,\n        \"selections\": [\n          (v2/*: any*/)\n        ],\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"User\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"user\",\n        \"plural\": false,\n        \"selections\": [\n          (v3/*: any*/),\n          (v5/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Queries\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"SessionOwnerSetterCardQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"KeyPair\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"keypairs\",\n        \"plural\": true,\n        \"selections\": [\n          (v2/*: any*/),\n          (v4/*: any*/)\n        ],\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"User\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"user\",\n        \"plural\": false,\n        \"selections\": [\n          (v3/*: any*/),\n          (v5/*: any*/),\n          (v4/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"a8de553c14d6730a6825cba2f409be0d\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"SessionOwnerSetterCardQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query SessionOwnerSetterCardQuery(\\n  $email: String!\\n) {\\n  keypairs(email: $email) {\\n    access_key\\n    id\\n  }\\n  user(email: $email) {\\n    domain_name\\n    groups {\\n      name\\n      id\\n    }\\n    id\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"ba086835ea654ab889e0e6aaefa0abfe\";\n\nexport default node;\n","import { useSuspendedBackendaiClient } from '../hooks';\nimport { Form, FormItemProps, Select, Tag } from 'antd';\nimport { TagProps } from 'antd/lib';\nimport _ from 'lodash';\nimport React from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\ninterface Props extends FormItemProps {}\n\nexport interface PortSelectFormValues {\n  ports: string[];\n}\n\nconst MIN_PORT = 1024;\nconst MAX_PORT = 65535;\nconst PortSelectFormItem: React.FC<Props> = ({\n  name = 'ports',\n  ...formItemProps\n}) => {\n  const { t } = useTranslation();\n  const baiClient = useSuspendedBackendaiClient();\n  const form = Form.useFormInstance();\n  return (\n    <Form.Item\n      label={t('session.launcher.PreOpenPortTitle')}\n      name={name}\n      tooltip={<Trans i18nKey=\"session.launcher.DescSetPreOpenPort\" />}\n      extra={t('session.launcher.PreOpenPortRangeGuide')}\n      rules={[\n        () => ({\n          validator(rule, values) {\n            if (\n              transformPortValuesToNumbers(values).length <=\n              baiClient._config.maxCountForPreopenPorts\n            ) {\n              return Promise.resolve();\n            } else {\n              return Promise.reject(\n                new Error(\n                  t('session.launcher.PreOpenPortMaxCountLimit', {\n                    count: baiClient._config.maxCountForPreopenPorts,\n                  }),\n                ),\n              );\n            }\n          },\n        }),\n        () => ({\n          // To check if the port range is not start <= end\n          validator(rule, values) {\n            if (\n              _.every(values, (v) => {\n                return parseInt(v).toString() === v || isPortRangeStr(v);\n              })\n            ) {\n              return Promise.resolve();\n            } else {\n              return Promise.reject(\n                new Error(t('session.launcher.InvalidPortFormat')),\n              );\n            }\n          },\n        }),\n        () => ({\n          validator(rule, values) {\n            const allPorts = transformPortValuesToNumbers(values);\n            if (\n              _.every(allPorts, (port) => {\n                return port >= MIN_PORT && port <= MAX_PORT;\n              })\n            ) {\n              return Promise.resolve();\n            }\n            return Promise.reject(\n              new Error(t('session.launcher.PreOpenPortRange')),\n            );\n          },\n        }),\n        () => ({\n          validator(rule, values) {\n            // To check if the port is duplicated\n            const allPorts = transformPortValuesToNumbers(values);\n            if (_.uniq(allPorts).length === allPorts.length) {\n              return Promise.resolve();\n            }\n            return Promise.reject(\n              new Error(t('session.launcher.DuplicatedPort')),\n            );\n          },\n        }),\n      ]}\n      {...formItemProps}\n    >\n      <Select\n        mode=\"tags\"\n        tagRender={(props) => {\n          const hasDuplicated =\n            _.filter(\n              transformPortValuesToNumbers(form.getFieldValue(name)),\n              (v) => v === parseInt(props.value),\n            ).length > 1;\n          return (\n            <PortTag\n              inValid={hasDuplicated}\n              closable={props.closable}\n              onClose={props.onClose}\n              onMouseDown={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n              }}\n              value={props.value}\n            >\n              {props.label}\n            </PortTag>\n          );\n        }}\n        style={{ width: '100%' }}\n        // placeholder={t('session.launcher.preopen')}\n        // options={_.map(portGuides, (v, k) => ({\n        //   value: parseInt(k),\n        //   // label: `${k} - ${v}`,\n        // }))}\n        suffixIcon={null}\n        open={false}\n        tokenSeparators={[',', ' ']}\n      />\n    </Form.Item>\n  );\n};\n\ninterface PortTagProps extends TagProps {\n  value: string;\n  inValid?: boolean;\n}\n\nexport const PortTag: React.FC<PortTagProps> = ({\n  inValid,\n  value,\n  ...tagProps\n}) => {\n  return (\n    <Tag\n      color={!inValid && isValidPortStr(value) ? undefined : 'red'}\n      {...tagProps}\n    />\n  );\n};\n\nexport const isValidPortStr = (portStr: string) => {\n  // consider range as valid\n  if (isPortRangeStr(portStr)) {\n    const splitPortRange = portStr.split(':');\n    const [start, end] = splitPortRange.map((v) => parseInt(v));\n    return start >= MIN_PORT && end <= MAX_PORT;\n  } else if (\n    portStr === parseInt(portStr).toString() &&\n    parseInt(portStr) >= MIN_PORT &&\n    parseInt(portStr) <= MAX_PORT\n  ) {\n    return true;\n  }\n  return false;\n};\n\nexport const isPortRangeStr = (portRange: string) => {\n  const splitPortRange = portRange.split(':');\n  if (splitPortRange.length === 2) {\n    const [start, end] = splitPortRange.map((v) => parseInt(v));\n    return start <= end;\n  }\n  return false;\n};\n\nexport const parsePortRangeToNumbers = (portRange: string) => {\n  const [start, end] = portRange.split(':').map((v) => parseInt(v));\n  return _.range(start, end + 1);\n};\n\nexport const transformPortValuesToNumbers = (\n  values: PortSelectFormValues['ports'],\n) => {\n  return _.flatten(\n    _.map(values, (v) =>\n      isPortRangeStr(v) ? parsePortRangeToNumbers(v) : parseInt(v),\n    ),\n  );\n};\n// const portGuides = {\n//   '5432': 'PostgreSQL',\n//   '3306': 'MySQL',\n//   '1521': 'Oracle',\n//   '27017': 'MongoDB',\n//   '6379': 'Redis',\n//   '11211': 'Memcached',\n//   '9200': 'Elasticsearch',\n//   '5601': 'Kibana',\n//   '9600': 'Logstash',\n//   '9042': 'Cassandra',\n//   '2181': 'Zookeeper',\n//   '9092': 'Kafka',\n//   '80': 'HTTP',\n//   '443': 'HTTPS',\n//   '22': 'SSH',\n//   '21': 'FTP',\n//   '25': 'SMTP',\n//   '110': 'POP3',\n//   '143': 'IMAP',\n//   '53': 'DNS',\n//   '389': 'LDAP',\n//   '636': 'LDAPS',\n//   '8080': 'HTTP Alt',\n//   '8443': 'HTTP Alt SSL',\n//   '465': 'SMTP SSL',\n//   '587': 'SMTP TLS',\n//   '993': 'IMAP SSL',\n//   '995': 'POP3 SSL',\n//   '7001': 'WebLogic',\n//   '7002': 'WebLogic SSL',\n//   '4848': 'GlassFish',\n//   '8181': 'GlassFish SSL',\n//   '8081': 'Nginx',\n// };\n\nexport default PortSelectFormItem;\n","import { useBAISettingUserState } from '../hooks/useBAISetting';\nimport { Tour, TourProps } from 'antd';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface SessionLauncherValidationTourProps extends Omit<TourProps, 'steps'> {}\nconst SessionLauncherValidationTour: React.FC<\n  SessionLauncherValidationTourProps\n> = ({ open, onClose, ...otherProps }) => {\n  const { t } = useTranslation();\n  const [hasOpenedValidationTour, setHasOpenedValidationTour] =\n    useBAISettingUserState('has_opened_tour_neo_session_validation');\n\n  const steps = [\n    {\n      title: t('tourguide.NeoSessionLauncher.ValidationErrorTitle'),\n      description: t('tourguide.NeoSessionLauncher.ValidationErrorText'),\n      target: () =>\n        document.getElementsByClassName('bai-card-error')?.[0] as HTMLElement,\n    },\n    {\n      title: t('tourguide.NeoSessionLauncher.ValidationErrorTitle'),\n      description: t(\n        'tourguide.NeoSessionLauncher.FixErrorFieldbyModifyButton',\n      ),\n      target: () =>\n        (\n          document.getElementsByClassName('bai-card-error')?.[0] as HTMLElement\n        )?.querySelector('.ant-card-extra') as HTMLElement,\n    },\n    {\n      title: t('tourguide.NeoSessionLauncher.ValidationErrorTitle'),\n      description: t('tourguide.NeoSessionLauncher.FixErrorAndTryAgainText'),\n      target: () =>\n        document.querySelector(\n          '[data-test-id=\"neo-session-launcher-tour-step-navigation\"]',\n        ) as HTMLElement,\n    },\n  ];\n  return (\n    <Tour\n      steps={steps}\n      onClose={(e) => {\n        onClose?.(e);\n        setHasOpenedValidationTour(true);\n      }}\n      open={!hasOpenedValidationTour && open}\n      {...otherProps}\n    />\n  );\n};\n\nexport default SessionLauncherValidationTour;\n","import { Form, FormItemProps, Input } from 'antd';\nimport _ from 'lodash';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface SessionNameFormItemProps extends FormItemProps {}\n\nexport interface SessionNameFormItemValue {\n  sessionName: string;\n}\nconst SessionNameFormItem: React.FC<SessionNameFormItemProps> = ({\n  ...formItemProps\n}) => {\n  /* TODO: check SessionNameAlreadyExist */\n  const { t } = useTranslation();\n  return (\n    <Form.Item\n      label={t('session.launcher.SessionName')}\n      name=\"sessionName\"\n      // Original rule : /^(?=.{4,64}$)\\w[\\w.-]*\\w$/\n      // https://github.com/lablup/backend.ai/blob/main/src/ai/backend/manager/api/session.py#L355-L356\n      rules={[\n        {\n          min: 4,\n          message: t('session.Validation.SessionNameTooShort'),\n        },\n        {\n          max: 64,\n          message: t('session.Validation.SessionNameTooLong64'),\n        },\n        {\n          validator(f, value) {\n            if (_.isEmpty(value)) {\n              return Promise.resolve();\n            }\n            if (!/^\\w/.test(value)) {\n              return Promise.reject(\n                t('session.Validation.SessionNameShouldStartWith'),\n              );\n            }\n\n            if (!/^[\\w.-]*$/.test(value)) {\n              return Promise.reject(\n                t('session.Validation.SessionNameInvalidCharacter'),\n              );\n            }\n\n            if (!/\\w$/.test(value) && value.length >= 4) {\n              return Promise.reject(\n                t('session.Validation.SessionNameShouldEndWith'),\n              );\n            }\n            return Promise.resolve();\n          },\n        },\n      ]}\n      {...formItemProps}\n    >\n      <Input allowClear autoComplete=\"off\" />\n    </Form.Item>\n  );\n};\n\nexport default SessionNameFormItem;\n","import { Select, SelectProps } from 'antd';\nimport _ from 'lodash';\nimport React, { useLayoutEffect } from 'react';\n\ninterface BAISelectProps extends SelectProps {\n  autoSelectOption?: boolean | ((options: SelectProps['options']) => any);\n}\n/**\n * BAISelect component.\n *\n * @component\n * @param {Object} props - The component props.\n * @param {boolean | Function} props.autoSelectOption - Determines whether to automatically select an option.\n * @param {any} props.value - The current value of the select.\n * @param {Array} props.options - The available options for the select.\n * @param {Function} props.onChange - The callback function to handle value changes.\n * @returns {JSX.Element} The rendered BAISelect component.\n */\nconst BAISelect: React.FC<BAISelectProps> = ({\n  autoSelectOption,\n  ...selectProps\n}) => {\n  const { value, options, onChange } = selectProps;\n  useLayoutEffect(() => {\n    if (autoSelectOption && _.isEmpty(value) && options?.[0]) {\n      if (_.isBoolean(autoSelectOption)) {\n        onChange?.(options?.[0].value || options?.[0], options?.[0]);\n      } else if (_.isFunction(autoSelectOption)) {\n        onChange?.(autoSelectOption(options), options[0]);\n      }\n    }\n  }, [value, options, onChange, autoSelectOption]);\n  return <Select {...selectProps} />;\n};\n\nexport default BAISelect;\n","import { useBaiSignedRequestWithPromise } from '../helper';\nimport { useUpdatableState } from '../hooks';\nimport { useSuspenseTanQuery } from '../hooks/reactQueryAlias';\nimport useControllableState from '../hooks/useControllableState';\nimport TextHighlighter from './TextHighlighter';\nimport { Select, SelectProps } from 'antd';\nimport _ from 'lodash';\nimport React, { useEffect } from 'react';\n\ninterface ResourceGroupSelectProps extends SelectProps {\n  projectName: string;\n  autoSelectDefault?: boolean;\n  filter?: (projectName: string) => boolean;\n}\n\nconst ResourceGroupSelect: React.FC<ResourceGroupSelectProps> = ({\n  projectName,\n  autoSelectDefault,\n  filter,\n  searchValue,\n  onSearch,\n  loading,\n  ...selectProps\n}) => {\n  const baiRequestWithPromise = useBaiSignedRequestWithPromise();\n  const [fetchKey] = useUpdatableState('first');\n  const [controllableSearchValue, setControllableSearchValue] =\n    useControllableState<string>({\n      value: searchValue,\n      onChange: onSearch,\n    });\n\n  const [controllableValue, setControllableValue] =\n    useControllableState(selectProps);\n\n  const { data: resourceGroupSelectQueryResult } = useSuspenseTanQuery<\n    [\n      {\n        scaling_groups: {\n          name: string;\n        }[];\n      },\n      {\n        allowed: string[];\n        default: string;\n        volume_info: {\n          [key: string]: {\n            backend: string;\n            capabilities: string[];\n            usage: {\n              percentage: number;\n            };\n            sftp_scaling_groups?: string[];\n          };\n        };\n      },\n    ]\n  >({\n    queryKey: ['ResourceGroupSelectQuery', projectName],\n    queryFn: () => {\n      const search = new URLSearchParams();\n      search.set('group', projectName);\n      return Promise.all([\n        baiRequestWithPromise({\n          method: 'GET',\n          url: `/scaling-groups?${search.toString()}`,\n        }),\n        baiRequestWithPromise({\n          method: 'GET',\n          url: `/folders/_/hosts`,\n        }),\n      ]);\n    },\n    staleTime: 0,\n    fetchKey: fetchKey,\n  });\n\n  const sftpResourceGroups = _.flatMap(\n    resourceGroupSelectQueryResult?.[1].volume_info,\n    (item) => item?.sftp_scaling_groups ?? [],\n  );\n\n  const resourceGroups = _.filter(\n    resourceGroupSelectQueryResult?.[0].scaling_groups,\n    (item) => {\n      if (_.includes(sftpResourceGroups, item.name)) {\n        return false;\n      }\n      if (filter) {\n        return filter(item.name);\n      }\n      return true;\n    },\n  );\n\n  useEffect(() => {\n    if (\n      controllableValue &&\n      !_.some(resourceGroups, (item) => item.name === controllableValue)\n    ) {\n      setControllableValue(undefined);\n    }\n  }, [resourceGroups, controllableValue, setControllableValue]);\n  const autoSelectedResourceGroup =\n    _.find(resourceGroups, (item) => item.name === 'default') ||\n    resourceGroups[0];\n  const autoSelectedOption = autoSelectedResourceGroup\n    ? {\n        label: autoSelectedResourceGroup.name,\n        value: autoSelectedResourceGroup.name,\n      }\n    : undefined;\n\n  useEffect(() => {\n    if (\n      autoSelectDefault &&\n      autoSelectedOption &&\n      autoSelectedOption.value !== selectProps.value\n    ) {\n      setControllableValue(autoSelectedOption.value, autoSelectedOption);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [autoSelectDefault]);\n\n  const searchProps: Pick<\n    SelectProps,\n    'onSearch' | 'searchValue' | 'showSearch'\n  > = selectProps.showSearch\n    ? {\n        onSearch: setControllableSearchValue,\n        searchValue: controllableSearchValue,\n        showSearch: true,\n      }\n    : {};\n\n  return (\n    <Select\n      defaultActiveFirstOption\n      {...searchProps}\n      defaultValue={autoSelectDefault ? autoSelectedOption : undefined}\n      onDropdownVisibleChange={(open) => {\n        // if (open) {\n        //   startLoadingTransition(() => {\n        //     updateFetchKey();\n        //   });\n        // }\n      }}\n      loading={loading}\n      options={_.map(resourceGroups, (resourceGroup) => {\n        return { value: resourceGroup.name, label: resourceGroup.name };\n      })}\n      optionRender={(option) => {\n        return (\n          <TextHighlighter keyword={controllableSearchValue}>\n            {option.data.value?.toString()}\n          </TextHighlighter>\n        );\n      }}\n      {...selectProps}\n      value={controllableValue}\n      onChange={setControllableValue}\n    />\n  );\n};\n\nexport default ResourceGroupSelect;\n","import BAICard, { BAICardProps } from '../BAICard';\nimport { useCurrentUserRole } from '../hooks/backendai';\nimport { useTanQuery } from '../hooks/reactQueryAlias';\nimport BAISelect from './BAISelect';\nimport Flex from './Flex';\nimport HiddenFormItem from './HiddenFormItem';\nimport ResourceGroupSelect from './ResourceGroupSelect';\nimport { SessionOwnerSetterCardQuery } from './__generated__/SessionOwnerSetterCardQuery.graphql';\nimport {\n  Button,\n  Card,\n  Col,\n  Descriptions,\n  Form,\n  Input,\n  Row,\n  Select,\n  Switch,\n  theme,\n} from 'antd';\nimport { CardProps } from 'antd/lib';\nimport graphql from 'babel-plugin-relay/macro';\nimport _ from 'lodash';\nimport { CheckIcon } from 'lucide-react';\nimport React, { Suspense, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { fetchQuery, useRelayEnvironment } from 'react-relay';\n\nexport interface SessionOwnerSetterFormValues {\n  owner?:\n    | {\n        email: string;\n        accesskey: string;\n        project: string;\n        resourceGroup: string;\n        enabled: true;\n        domainName: string;\n      }\n    | {\n        email?: string;\n        accesskey?: string;\n        project?: string;\n        resourceGroup?: string;\n        enabled: false;\n        domainName?: string;\n      };\n}\n\nconst SessionOwnerSetterCard: React.FC<CardProps> = (props) => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const form = Form.useFormInstance<SessionOwnerSetterFormValues>();\n\n  const isActive = Form.useWatch(['owner', 'enabled'], form);\n\n  const [fetchingEmail, setFetchingEmail] = useState<string>();\n  const relayEvn = useRelayEnvironment();\n\n  const { data, isFetching } = useTanQuery({\n    queryKey: ['SessionOwnerSetterCard', 'ownerInfo', fetchingEmail],\n    queryFn: () => {\n      const email = form.getFieldValue(['owner', 'email']);\n      if (!email) return;\n\n      const query = graphql`\n        query SessionOwnerSetterCardQuery($email: String!) {\n          keypairs(email: $email) {\n            access_key\n          }\n          user(email: $email) {\n            domain_name\n            groups {\n              name\n              id\n            }\n          }\n        }\n      `;\n      return fetchQuery<SessionOwnerSetterCardQuery>(relayEvn, query, {\n        email,\n      }).toPromise();\n    },\n    enabled: !!fetchingEmail,\n  });\n\n  const ownerKeypairs = form.getFieldValue(['owner', 'email'])\n    ? data?.keypairs\n    : undefined;\n  const owner = form.getFieldValue(['owner', 'email']) ? data?.user : undefined;\n\n  const nonExistentOwner = !isFetching && fetchingEmail && !owner;\n  return (\n    <Card\n      title={t('session.launcher.SetSessionOwner')}\n      extra={\n        <Form.Item name={['owner', 'enabled']} valuePropName=\"checked\" noStyle>\n          <Switch />\n        </Form.Item>\n      }\n      styles={\n        isActive\n          ? undefined\n          : {\n              header: {\n                borderBottom: 'none',\n              },\n              body: {\n                display: isActive ? 'block' : 'none',\n              },\n            }\n      }\n      {...props}\n    >\n      <HiddenFormItem\n        name={['owner', 'domainName']}\n        value={owner?.domain_name}\n      />\n      <Form.Item dependencies={[['owner', 'enabled']]} noStyle>\n        {({ getFieldValue }) => {\n          return (\n            <>\n              <Flex>\n                <Form.Item\n                  name={['owner', 'email']}\n                  label={t('session.launcher.OwnerEmail')}\n                  rules={[\n                    {\n                      required: isActive,\n                    },\n                    {\n                      type: 'email',\n                      message: t('credential.validation.InvalidEmailAddress'),\n                    },\n                  ]}\n                  style={{ flex: 1 }}\n                  validateStatus={nonExistentOwner ? 'error' : undefined}\n                  help={\n                    nonExistentOwner\n                      ? t('credential.NoUserToDisplay')\n                      : undefined\n                  }\n                >\n                  <Input.Search\n                    onSearch={(v) => {\n                      // startTransition(()=>{\n\n                      form\n                        .validateFields([['owner', 'email']])\n                        .then(() => {\n                          setFetchingEmail(v);\n                        })\n                        .catch(() => {});\n                      // })\n                    }}\n                    onChange={() => {\n                      setFetchingEmail('');\n                      form.setFieldsValue({\n                        owner: {\n                          accesskey: '',\n                          project: undefined,\n                          resourceGroup: undefined,\n                        },\n                      });\n                    }}\n                    loading={isFetching}\n                    enterButton={\n                      !isFetching && owner ? (\n                        <Button icon={<CheckIcon />} />\n                      ) : undefined\n                    }\n                  />\n                </Form.Item>\n              </Flex>\n              <Form.Item\n                name={['owner', 'accesskey']}\n                label={t('session.launcher.OwnerAccessKey')}\n                rules={[\n                  {\n                    required: getFieldValue(['owner', 'enabled']),\n                  },\n                ]}\n              >\n                <BAISelect\n                  options={_.map(ownerKeypairs, (k) => {\n                    return {\n                      label: k?.access_key,\n                      value: k?.access_key,\n                    };\n                  })}\n                  autoSelectOption\n                  disabled={_.isEmpty(fetchingEmail) || isFetching}\n                  // defaultActiveFirstOption\n                />\n              </Form.Item>\n              <Row gutter={token.marginSM}>\n                <Col span={12}>\n                  <Form.Item\n                    name={['owner', 'project']}\n                    label={t('session.launcher.OwnerGroup')}\n                    rules={[\n                      {\n                        required: getFieldValue(['owner', 'enabled']),\n                      },\n                    ]}\n                  >\n                    <BAISelect\n                      options={_.map(owner?.groups, (g) => {\n                        return {\n                          label: g?.name,\n                          value: g?.name,\n                        };\n                      })}\n                      autoSelectOption\n                      disabled={_.isEmpty(fetchingEmail) || isFetching}\n                    />\n                  </Form.Item>\n                </Col>\n                <Col span={12}>\n                  <Form.Item dependencies={[['owner', 'project']]} noStyle>\n                    {({ getFieldValue }) => {\n                      return (\n                        <Suspense\n                          fallback={\n                            <Form.Item\n                              label={t('session.launcher.OwnerResourceGroup')}\n                              rules={[\n                                {\n                                  required: getFieldValue(['owner', 'enabled']),\n                                },\n                              ]}\n                            >\n                              <Select loading />\n                            </Form.Item>\n                          }\n                        >\n                          <Form.Item\n                            name={['owner', 'resourceGroup']}\n                            label={t('session.launcher.OwnerResourceGroup')}\n                            rules={[\n                              {\n                                required: getFieldValue(['owner', 'enabled']),\n                              },\n                            ]}\n                          >\n                            {getFieldValue(['owner', 'project']) ? (\n                              <ResourceGroupSelect\n                                projectName={getFieldValue([\n                                  'owner',\n                                  'project',\n                                ])}\n                                disabled={\n                                  _.isEmpty(fetchingEmail) || isFetching\n                                }\n                                autoSelectDefault\n                              />\n                            ) : (\n                              <Select disabled />\n                            )}\n                          </Form.Item>\n                        </Suspense>\n                      );\n                    }}\n                  </Form.Item>\n                </Col>\n              </Row>\n            </>\n          );\n        }}\n      </Form.Item>\n    </Card>\n  );\n};\n\nexport const SessionOwnerSetterPreviewCard: React.FC<BAICardProps> = (\n  props,\n) => {\n  const { t } = useTranslation();\n  const form = Form.useFormInstance();\n  const isActive = Form.useWatch(['owner', 'enabled'], form);\n  const currentUserRole = useCurrentUserRole();\n  return (\n    (currentUserRole === 'admin' || currentUserRole === 'superadmin') &&\n    isActive && (\n      <BAICard\n        title={t('session.launcher.SetSessionOwner')}\n        size=\"small\"\n        status={\n          form.getFieldError(['owner', 'email']).length > 0 ||\n          form.getFieldError(['owner', 'accesskey']).length > 0 ||\n          form.getFieldError(['owner', 'project']).length > 0 ||\n          form.getFieldError(['owner', 'resourceGroup']).length > 0\n            ? 'error'\n            : undefined\n        }\n        extraButtonTitle={t('button.Edit')}\n        {...props}\n      >\n        <Descriptions size=\"small\" column={1}>\n          <Descriptions.Item label={t('session.launcher.OwnerEmail')}>\n            {form.getFieldValue(['owner', 'email'])}\n          </Descriptions.Item>\n          <Descriptions.Item label={t('session.launcher.OwnerAccessKey')}>\n            {form.getFieldValue(['owner', 'accesskey'])}\n          </Descriptions.Item>\n          <Descriptions.Item label={t('session.launcher.OwnerGroup')}>\n            {form.getFieldValue(['owner', 'project'])}\n          </Descriptions.Item>\n          <Descriptions.Item label={t('session.launcher.OwnerResourceGroup')}>\n            {form.getFieldValue(['owner', 'resourceGroup'])}\n          </Descriptions.Item>\n        </Descriptions>\n      </BAICard>\n    )\n  );\n};\n\nexport default SessionOwnerSetterCard;\n","import { generateRandomString } from '../helper';\nimport { SessionHistory, useBAISettingUserState } from './useBAISetting';\nimport { useEventNotStable } from './useEventNotStable';\n\nexport const useRecentSessionHistory = () => {\n  const [recentSessionHistory, setRecentSessionHistory] =\n    useBAISettingUserState('recentSessionHistory');\n\n  const push = useEventNotStable(\n    ({\n      id,\n      params,\n      createdAt,\n    }: SelectivePartial<SessionHistory, 'id' | 'createdAt'>) => {\n      const newHistory: SessionHistory = {\n        id: id ?? generateRandomString(8),\n        params,\n        createdAt: createdAt ?? new Date().toISOString(),\n      };\n      // push new history to the top of recentSessionHistory and keep it up to 5\n      const newRecentSessionHistory = [\n        newHistory,\n        ...(recentSessionHistory || []),\n      ].slice(0, 5);\n      setRecentSessionHistory(newRecentSessionHistory);\n    },\n  );\n  const clear = useEventNotStable(() => setRecentSessionHistory([]));\n  const remove = useEventNotStable((id: string) => {\n    const newRecentSessionHistory = (recentSessionHistory || []).filter(\n      (item) => item.id !== id,\n    );\n    setRecentSessionHistory(newRecentSessionHistory);\n  });\n  return [\n    recentSessionHistory,\n    {\n      push,\n      clear,\n      remove,\n    },\n  ] as const;\n};\n","import { useBackendAIImageMetaData } from '../hooks';\nimport { useRecentSessionHistory } from '../hooks/useRecentSessionHistory';\nimport {\n  ResourceNumbersOfSession,\n  SessionLauncherFormValue,\n} from '../pages/SessionLauncherPage';\nimport BAIModal, { BAIModalProps } from './BAIModal';\nimport Flex from './Flex';\nimport ImageMetaIcon from './ImageMetaIcon';\nimport { Divider, Table, Typography } from 'antd';\nimport dayjs from 'dayjs';\nimport _ from 'lodash';\nimport React, { useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface SessionTemplateModalProps\n  extends Omit<BAIModalProps, 'onOk' | 'onCancel'> {\n  onRequestClose: (formValue?: SessionLauncherFormValue) => void;\n}\nconst SessionTemplateModal: React.FC<SessionTemplateModalProps> = ({\n  ...modalProps\n}) => {\n  const { t } = useTranslation();\n  const [sessionHistory] = useRecentSessionHistory();\n\n  const [, { getImageAliasName, getBaseVersion }] = useBackendAIImageMetaData();\n\n  const [selectedHistoryId, setSelectedHistoryId] = useState<string>();\n\n  const parsedSessionHistory = useMemo(() => {\n    return _.map(sessionHistory, (history) => {\n      const params = new URLSearchParams(history.params);\n      const formValues: SessionLauncherFormValue = JSON.parse(\n        params.get('formValues') || '{}',\n      );\n      return {\n        ...history,\n        ...formValues,\n        // resourceAllocation: `${history.cpu}CPU ${history.memory}GB`,\n      };\n    });\n  }, [sessionHistory]);\n\n  return (\n    <BAIModal\n      width={800}\n      title={t('session.launcher.RecentHistory')}\n      okButtonProps={{ disabled: !selectedHistoryId }}\n      okText={t('button.Apply')}\n      {...modalProps}\n      onOk={(e) => {\n        const params = _.find(sessionHistory, {\n          id: selectedHistoryId,\n        })?.params;\n        modalProps.onRequestClose?.(\n          JSON.parse(new URLSearchParams(params).get('formValues') || '{}'),\n        );\n      }}\n      onCancel={() => {\n        // reset\n        setSelectedHistoryId(undefined);\n        modalProps.onRequestClose();\n      }}\n    >\n      <Divider style={{ margin: 0 }} />\n      <Table\n        showHeader={false}\n        scroll={{ x: 'max-content' }}\n        dataSource={parsedSessionHistory}\n        pagination={false}\n        rowSelection={{\n          type: 'radio',\n          selectedRowKeys: selectedHistoryId ? [selectedHistoryId] : [],\n          onSelect: (record) => {\n            setSelectedHistoryId(record.id);\n          },\n        }}\n        onRow={(record) => ({\n          onClick: () => {\n            setSelectedHistoryId(record.id);\n          },\n        })}\n        rowKey={(record) => record.id}\n        columns={[\n          // {\n          //   title: t('session.launcher.SessionName'),\n          //   dataIndex: 'sessionName',\n          //   render: (sessionName, record) => {\n          //     return sessionName ?? '-';\n          //   },\n          // },\n          {\n            title: t('general.Image'),\n            dataIndex: ['environments', 'version'],\n            render: (version, record) => {\n              const imageStr =\n                record.environments.version || record.environments.manual;\n              return (\n                !!imageStr && (\n                  <Flex gap={'xs'}>\n                    <ImageMetaIcon image={imageStr} />\n                    <Typography.Text>\n                      {getImageAliasName(imageStr)}\n                    </Typography.Text>\n                    <Typography.Text>\n                      {getBaseVersion(imageStr)}\n                    </Typography.Text>\n                    <Typography.Text>\n                      {record.sessionName ? `(${record.sessionName})` : null}\n                    </Typography.Text>\n                  </Flex>\n                )\n              );\n            },\n            // onCell: () => ({\n            //   style: { maxWidth: 250, textOverflow: 'ellipsis' },\n            // }),\n          },\n          {\n            title: t('session.launcher.ResourceAllocation'),\n            dataIndex: 'resource',\n            render: (resource) => {\n              // return JSON.stringify(resource)\n              return (\n                <Flex>\n                  <ResourceNumbersOfSession resource={resource} />\n                </Flex>\n              );\n            },\n          },\n          // {\n          //   dataIndex: 'mounts',\n          //   render: (value, record) => {\n          //     record.mou\n          //   }\n          // },\n          {\n            title: t('session.launcher.CreatedAt'),\n            dataIndex: 'createdAt',\n            render: (createdAt: string) => {\n              return dayjs(createdAt).fromNow();\n            },\n          },\n        ]}\n      />\n      {/* <Tabs\n        defaultActiveKey=\"history\"\n        items={[\n          {\n            key: 'template',\n            label: t('session.launcher.Template'),\n            children: <div>Template</div>,\n          },\n          {\n            key: 'history',\n            label: t('session.launcher.RecentHistory'),\n            children: (\n              \n            ),\n          },\n        ]}\n      /> */}\n    </BAIModal>\n  );\n};\n\nexport default SessionTemplateModal;\n","import BAICard from '../BAICard';\nimport BAIIntervalText from '../components/BAIIntervalText';\nimport DatePickerISO from '../components/DatePickerISO';\nimport DoubleTag from '../components/DoubleTag';\nimport EnvVarFormList, {\n  sanitizeSensitiveEnv,\n  EnvVarFormListValue,\n} from '../components/EnvVarFormList';\nimport Flex from '../components/Flex';\nimport ImageEnvironmentSelectFormItems, {\n  ImageEnvironmentFormInput,\n} from '../components/ImageEnvironmentSelectFormItems';\nimport ImageMetaIcon from '../components/ImageMetaIcon';\nimport SessionKernelTags from '../components/ImageTags';\nimport { mainContentDivRefState } from '../components/MainLayout/MainLayout';\nimport PortSelectFormItem, {\n  PortSelectFormValues,\n  PortTag,\n  transformPortValuesToNumbers,\n} from '../components/PortSelectFormItem';\nimport ResourceAllocationFormItems, {\n  RESOURCE_ALLOCATION_INITIAL_FORM_VALUES,\n  ResourceAllocationFormValue,\n} from '../components/ResourceAllocationFormItems';\nimport ResourceNumber from '../components/ResourceNumber';\nimport SessionLauncherValidationTour from '../components/SessionLauncherErrorTourProps';\nimport SessionNameFormItem, {\n  SessionNameFormItemValue,\n} from '../components/SessionNameFormItem';\nimport SessionOwnerSetterCard, {\n  SessionOwnerSetterFormValues,\n} from '../components/SessionOwnerSetterCard';\nimport { SessionOwnerSetterPreviewCard } from '../components/SessionOwnerSetterCard';\nimport SessionTemplateModal from '../components/SessionTemplateModal';\nimport SourceCodeViewer from '../components/SourceCodeViewer';\nimport VFolderTableFormItem, {\n  VFolderTableFormValues,\n} from '../components/VFolderTableFormItem';\nimport {\n  compareNumberWithUnits,\n  generateRandomString,\n  iSizeToSize,\n} from '../helper';\nimport {\n  useSuspendedBackendaiClient,\n  useUpdatableState,\n  useWebUINavigate,\n} from '../hooks';\nimport { useCurrentUserRole } from '../hooks/backendai';\nimport { useSetBAINotification } from '../hooks/useBAINotification';\nimport { useCurrentProjectValue } from '../hooks/useCurrentProject';\nimport { useRecentSessionHistory } from '../hooks/useRecentSessionHistory';\nimport { useThemeMode } from '../hooks/useThemeMode';\n// @ts-ignore\nimport customCSS from './SessionLauncherPage.css?raw';\nimport {\n  DoubleRightOutlined,\n  LeftOutlined,\n  PlayCircleFilled,\n  PlayCircleOutlined,\n  QuestionCircleOutlined,\n  RightOutlined,\n} from '@ant-design/icons';\nimport { useDebounceFn, useToggle } from 'ahooks';\nimport {\n  Alert,\n  App,\n  Button,\n  Card,\n  Checkbox,\n  Col,\n  Descriptions,\n  Form,\n  Grid,\n  Input,\n  InputNumber,\n  Popconfirm,\n  Radio,\n  Row,\n  Select,\n  StepProps,\n  Steps,\n  Switch,\n  Table,\n  Tag,\n  Tooltip,\n  Typography,\n  theme,\n} from 'antd';\nimport dayjs from 'dayjs';\nimport { useAtomValue } from 'jotai';\nimport _ from 'lodash';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { Trans, useTranslation } from 'react-i18next';\nimport { useLocation } from 'react-router-dom';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { dark } from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport {\n  JsonParam,\n  NumberParam,\n  StringParam,\n  useQueryParams,\n  withDefault,\n} from 'use-query-params';\n\ninterface SessionConfig {\n  group_name: string;\n  domain: string;\n  scaling_group: string;\n  type: string;\n  cluster_mode: string;\n  cluster_size: number;\n  maxWaitSeconds: number;\n  cpu: number;\n  mem: string;\n  shmem: string;\n  mounts: string[];\n  mount_map: {\n    [key: string]: string;\n  };\n  env: {\n    [key: string]: string;\n  };\n  preopen_ports: number[];\n  startsAt?: string;\n  startupCommand?: string;\n  bootstrap_script?: string;\n}\n\ninterface CreateSessionInfo {\n  kernelName: string;\n  sessionName: string;\n  architecture: string;\n  config: SessionConfig;\n}\n\ninterface SessionLauncherValue {\n  sessionType: 'interactive' | 'batch' | 'inference';\n  batch: {\n    enabled: boolean;\n    scheduleDate?: string;\n    command?: string;\n  };\n  allocationPreset: string;\n  envvars: EnvVarFormListValue[];\n  hpcOptimization: {\n    autoEnabled: boolean;\n    OMP_NUM_THREADS: string;\n    OPENBLAS_NUM_THREADS: string;\n  };\n  bootstrap_script?: string;\n}\n\nexport type SessionLauncherFormValue = SessionLauncherValue &\n  SessionNameFormItemValue &\n  ImageEnvironmentFormInput &\n  ResourceAllocationFormValue &\n  VFolderTableFormValues &\n  PortSelectFormValues &\n  SessionOwnerSetterFormValues;\n\ntype SessionMode = 'normal' | 'inference' | 'import';\n\nexport type AppOption = {\n  'session-name'?: string;\n  'session-uuid'?: string;\n  'access-key'?: string;\n  mode?: SessionMode;\n  'app-services'?: Array<string>;\n  runtime?: string;\n  filename?: string;\n  // [key in string]: any;\n};\nconst SessionLauncherPage = () => {\n  const app = App.useApp();\n  let sessionMode: SessionMode = 'normal';\n\n  const mainContentDivRef = useAtomValue(mainContentDivRefState);\n  const baiClient = useSuspendedBackendaiClient();\n  const currentUserRole = useCurrentUserRole();\n\n  const [isStartingSession, setIsStartingSession] = useState(false);\n  const INITIAL_FORM_VALUES: SessionLauncherValue = useMemo(\n    () => ({\n      sessionType: 'interactive',\n      // If you set `allocationPreset` to 'custom', `allocationPreset` is not changed automatically any more.\n      allocationPreset: 'auto-preset',\n      hpcOptimization: {\n        autoEnabled: true,\n        OMP_NUM_THREADS: '1',\n        OPENBLAS_NUM_THREADS: '1',\n      },\n      batch: {\n        enabled: false,\n        command: undefined,\n        scheduleDate: undefined,\n      },\n      envvars: [],\n      // set default_session_environment only if set\n      ...(baiClient._config?.default_session_environment && {\n        environments: {\n          environment: baiClient._config?.default_session_environment,\n        },\n      }),\n      ...RESOURCE_ALLOCATION_INITIAL_FORM_VALUES,\n    }),\n    [baiClient._config?.default_session_environment],\n  );\n  const StepParam = withDefault(NumberParam, 0);\n  const FormValuesParam = withDefault(JsonParam, INITIAL_FORM_VALUES);\n  const AppOptionParam = withDefault(JsonParam, {});\n  const [\n    {\n      step: currentStep,\n      formValues: formValuesFromQueryParams,\n      redirectTo,\n      appOption: appOptionFromQueryParams,\n    },\n    setQuery,\n  ] = useQueryParams({\n    step: StepParam,\n    formValues: FormValuesParam,\n    redirectTo: StringParam,\n    appOption: AppOptionParam,\n  });\n  const { search } = useLocation();\n\n  const { isDarkMode } = useThemeMode();\n  // const { moveTo } = useWebComponentInfo();\n  const webuiNavigate = useWebUINavigate();\n  const currentProject = useCurrentProjectValue();\n\n  const [isOpenTemplateModal, { toggle: toggleIsOpenTemplateModal }] =\n    useToggle();\n  const { upsertNotification } = useSetBAINotification();\n  const [, { push: pushSessionHistory }] = useRecentSessionHistory();\n\n  const { run: syncFormToURLWithDebounce } = useDebounceFn(\n    () => {\n      // console.log('syncFormToURLWithDebounce', form.getFieldsValue());\n      // To sync the latest form values to URL,\n      // 'trailing' is set to true, and get the form values here.\"\n      const currentValue = form.getFieldsValue();\n      setQuery(\n        {\n          // formValues: form.getFieldsValue(),\n          formValues: _.extend(\n            _.omit(\n              form.getFieldsValue(),\n              ['environments.image'],\n              ['environments.customizedTag'],\n              ['autoMountedFolderNames'],\n              ['owner'],\n              ['envvars'],\n            ),\n            {\n              envvars: sanitizeSensitiveEnv(currentValue.envvars),\n            },\n          ),\n        },\n        'replaceIn',\n      );\n    },\n    {\n      leading: false,\n      wait: 500,\n      trailing: true,\n    },\n  );\n\n  const setCurrentStep = (nextStep: number) => {\n    setQuery(\n      {\n        step: nextStep,\n      },\n      'pushIn',\n    );\n  };\n  const { token } = theme.useToken();\n\n  const { t } = useTranslation();\n\n  const screens = Grid.useBreakpoint();\n\n  const [form] = Form.useForm<SessionLauncherFormValue>();\n\n  useEffect(() => {\n    if (!_.isEmpty(formValuesFromQueryParams)) {\n      form.validateFields().catch((e) => {});\n    }\n    // Run this memo only for the first time\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const mergedInitialValues = useMemo(() => {\n    return _.merge({}, INITIAL_FORM_VALUES, formValuesFromQueryParams);\n  }, [INITIAL_FORM_VALUES, formValuesFromQueryParams]);\n\n  // ScrollTo top when step is changed\n  useEffect(() => {\n    mainContentDivRef.current?.scrollTo(0, 0);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentStep]);\n\n  // before initialFormValues is set, use getFieldValue and useWatch will return undefined\n  const sessionType =\n    Form.useWatch('sessionType', { form, preserve: true }) ||\n    form.getFieldValue('sessionType') ||\n    formValuesFromQueryParams.sessionType;\n\n  const steps = _.filter(\n    [\n      {\n        title: t('session.launcher.SessionType'),\n        key: 'sessionType',\n        // status: form.getFieldError('name').length > 0 ? 'error' : undefined,\n      },\n      {\n        title: `${t('session.launcher.Environments')} & ${t(\n          'session.launcher.ResourceAllocation',\n        )} `,\n        key: 'environment',\n      },\n      sessionType !== 'inference' && {\n        title: t('webui.menu.Data&Storage'),\n        key: 'storage',\n      },\n      {\n        title: t('session.launcher.Network'),\n        key: 'network',\n      },\n      {\n        title: t('session.launcher.ConfirmAndLaunch'),\n        icon: <PlayCircleFilled />,\n        // @ts-ignore\n        key: 'review',\n      },\n    ] as StepProps[],\n    (v) => !!v,\n  );\n\n  const currentStepKey:\n    | 'sessionType'\n    | 'environment'\n    | 'storage'\n    | 'network'\n    // @ts-ignore\n    | 'review' = steps[currentStep]?.key;\n\n  const hasError = _.some(\n    form.getFieldsError(),\n    (item) => item.errors.length > 0,\n  );\n\n  const [finalStepLastValidateTime, setFinalStepLastValidateTime] =\n    useUpdatableState('first'); // Force re-render after validation in final step.\n\n  useEffect(() => {\n    if (currentStep === steps.length - 1) {\n      form\n        .validateFields()\n        .catch((error) => {})\n        .finally(() => setFinalStepLastValidateTime());\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentStep, form, setFinalStepLastValidateTime, steps.length]);\n\n  useEffect(() => {\n    if (finalStepLastValidateTime !== 'first') {\n      if (hasError) {\n        setValidationTourOpen(true);\n      } else {\n        setValidationTourOpen(false);\n      }\n    }\n  }, [finalStepLastValidateTime, hasError]);\n\n  const startSession = () => {\n    // TODO: support inference mode, support import mode\n    setIsStartingSession(true);\n    const usedSearchParams = search;\n    form\n      .validateFields()\n      .then(async (values) => {\n        if (_.isEmpty(values.mounts) || values.mounts.length === 0) {\n          const isConformed = await new Promise((resolve) => {\n            app.modal.confirm({\n              title: t('session.launcher.NoFolderMounted'),\n              content: (\n                <>\n                  {t('session.launcher.HomeDirectoryDeletionDialog')}\n                  <br />\n                  <br />\n                  {t('session.launcher.LaunchConfirmationDialog')}\n                  <br />\n                  <br />\n                  {t('dialog.ask.DoYouWantToProceed')}\n                </>\n              ),\n              onOk: () => {\n                resolve(true);\n              },\n              okText: t('session.launcher.Start'),\n              onCancel: () => {\n                resolve(false);\n              },\n              closable: true,\n            });\n          });\n          if (!isConformed) return;\n        }\n\n        // If manual image is selected, use it as kernelName\n        const imageFullName =\n          values.environments.manual || values.environments.version;\n        let [kernelName, architecture] = imageFullName\n          ? imageFullName.split('@')\n          : ['', ''];\n\n        const sessionName = _.isEmpty(values.sessionName)\n          ? generateSessionId()\n          : values.sessionName;\n\n        const sessionInfo: CreateSessionInfo = {\n          kernelName,\n          architecture,\n          sessionName: sessionName,\n          config: {\n            type: values.sessionType,\n            ...(_.isEmpty(values.bootstrap_script)\n              ? {}\n              : {\n                  bootstrap_script: values.bootstrap_script,\n                }),\n            ...(values.sessionType === 'batch'\n              ? {\n                  startsAt: values.batch.enabled\n                    ? values.batch.scheduleDate\n                    : undefined,\n                  startupCommand: values.batch.command,\n                }\n              : {}),\n\n            // TODO: support change owner\n            ...(values.owner?.enabled\n              ? {\n                  group_name: values.owner.project,\n                  domain: values.owner.domainName,\n                  scaling_group: values.owner.project,\n                  owner_access_key: values.owner.accesskey,\n                }\n              : {\n                  group_name: currentProject.name,\n                  domain: baiClient._config.domainName,\n                  scaling_group: values.resourceGroup,\n                }),\n            ///////////////////////////\n\n            cluster_mode: values.cluster_mode,\n            cluster_size: values.cluster_size,\n            maxWaitSeconds: 15,\n            cpu: values.resource.cpu,\n            mem: values.resource.mem,\n            shmem:\n              compareNumberWithUnits(values.resource.mem, '4g') > 0 &&\n              compareNumberWithUnits(values.resource.shmem, '1g') < 0\n                ? '1g'\n                : values.resource.shmem,\n            ...(values.resource.accelerator > 0\n              ? {\n                  [values.resource.acceleratorType]:\n                    values.resource.accelerator,\n                }\n              : undefined),\n            mounts: values.mounts,\n            mount_map: values.vfoldersAliasMap,\n\n            env: {\n              ..._.fromPairs(values.envvars.map((v) => [v.variable, v.value])),\n              // set hpcOptimization options: \"OMP_NUM_THREADS\", \"OPENBLAS_NUM_THREADS\"\n              ..._.omit(values.hpcOptimization, 'autoEnabled'),\n            },\n            preopen_ports: transformPortValuesToNumbers(values.ports),\n          },\n        };\n\n        const sessionPromises = _.map(\n          _.range(values.num_of_sessions || 1),\n          (i) => {\n            const formattedSessionName =\n              (values.num_of_sessions || 1) > 1\n                ? `${sessionInfo.sessionName}-${generateRandomString()}-${i}`\n                : sessionInfo.sessionName;\n            return baiClient\n              .createIfNotExists(\n                sessionInfo.kernelName,\n                formattedSessionName,\n                sessionInfo.config,\n                20000,\n                sessionInfo.architecture,\n              )\n              .then((res: { created: boolean; status: string }) => {\n                // // When session is already created with the same name, the status code\n                // // is 200, but the response body has 'created' field as false. For better\n                // // user experience, we show the notification message.\n                if (!res?.created) {\n                  // message.warning(t('session.launcher.SessionAlreadyExists'));\n                  throw new Error(t('session.launcher.SessionAlreadyExists'));\n                }\n                if (res?.status === 'CANCELLED') {\n                  // Case about failed to start new session kind of \"docker image not found\" or etc.\n                  throw new Error(\n                    t('session.launcher.FailedToStartNewSession'),\n                  );\n                }\n                return res;\n              })\n              .catch((err: any) => {\n                if (err?.message?.includes('The session already exists')) {\n                  throw new Error(t('session.launcher.SessionAlreadyExists'));\n                } else {\n                  throw err;\n                }\n              });\n          },\n        );\n        // console.log('##', values.mounts);\n        // console.log(sessionInfo);\n        const backupTo = window.location.pathname + window.location.search;\n        webuiNavigate(redirectTo || '/job');\n        upsertNotification({\n          key: 'session-launcher:' + sessionName,\n          backgroundTask: {\n            promise: Promise.all(sessionPromises),\n            status: 'pending',\n            statusDescriptions: {\n              pending: t('session.PreparingSession'),\n              resolved: t('eduapi.ComputeSessionPrepared'),\n            },\n          },\n          duration: 0,\n          message: t('general.Session') + ': ' + sessionName,\n          open: true,\n        });\n        await Promise.all(sessionPromises)\n          .then(\n            ([firstSession]: Array<{\n              kernelId?: string;\n              sessionId: string;\n              sessionName: string;\n              servicePorts: Array<{ name: string }>;\n            }>) => {\n              pushSessionHistory({\n                id: firstSession.sessionId,\n                params: usedSearchParams,\n                name: firstSession.sessionName,\n              });\n              if (\n                values.num_of_sessions === 1 &&\n                values.sessionType !== 'batch'\n              ) {\n                const res = firstSession;\n                let appOptions: AppOption = _.cloneDeep(\n                  appOptionFromQueryParams,\n                );\n                if ('kernelId' in res) {\n                  // API v4\n                  appOptions = _.extend(appOptions, {\n                    'session-name': res.kernelId,\n                    'access-key': '',\n                    mode: sessionMode,\n                    // mode: this.mode,\n                  });\n                } else {\n                  // API >= v5\n                  appOptions = _.extend(appOptions, {\n                    'session-uuid': res.sessionId,\n                    'session-name': res.sessionName,\n                    'access-key': '',\n                    mode: sessionMode,\n                    // mode: this.mode,\n                  });\n                }\n                const service_info = res.servicePorts;\n                if (Array.isArray(service_info) === true) {\n                  appOptions['app-services'] = service_info.map(\n                    (a: { name: string }) => a.name,\n                  );\n                } else {\n                  appOptions['app-services'] = [];\n                }\n                // TODO: support import and inference\n                // if (sessionMode === 'import') {\n                //   appOptions['runtime'] = 'jupyter';\n                //   appOptions['filename'] = this.importFilename;\n                // }\n                // if (sessionMode === 'inference') {\n                //   appOptions['runtime'] = appOptions['app-services'].find(\n                //     (element: any) => !['ttyd', 'sshd'].includes(element),\n                //   );\n                // }\n\n                // only launch app when it has valid service ports\n                if (service_info.length > 0) {\n                  // @ts-ignore\n                  globalThis.appLauncher.showLauncher(appOptions);\n                }\n              }\n            },\n          )\n          .catch(() => {\n            upsertNotification({\n              key: 'session-launcher:' + sessionName,\n              to: backupTo,\n              toText: '수정',\n            });\n            // this.metadata_updating = false;\n            // console.log(err);\n            // if (err && err.message) {\n            //   this.notification.text = PainKiller.relieve(err.message);\n            //   if (err.description) {\n            //     this.notification.text = PainKiller.relieve(err.description);\n            //   } else {\n            //     this.notification.detail = err.message;\n            //   }\n            //   this.notification.show(true, err);\n            // } else if (err && err.title) {\n            //   this.notification.text = PainKiller.relieve(err.title);\n            //   this.notification.show(true, err);\n            // }\n            // const event = new CustomEvent('backend-ai-session-list-refreshed', {\n            //   detail: 'running',\n            // });\n            // document.dispatchEvent(event);\n            // this.launchButton.disabled = false;\n            // this.launchButtonMessageTextContent = _text(\n            //   'session.launcher.ConfirmAndLaunch',\n            // );\n          });\n      })\n      .catch((e) => {\n        console.log('validation errors', e);\n      })\n      .finally(() => {\n        setIsStartingSession(false);\n      });\n  };\n\n  const [validationTourOpen, setValidationTourOpen] = useState(false);\n\n  return (\n    <Flex\n      direction=\"column\"\n      align=\"stretch\"\n      style={{\n        justifyContent: 'revert',\n        // height: 500,\n        // overflow: 'scroll',\n      }}\n      gap={'md'}\n    >\n      <style>{customCSS}</style>\n      <Flex direction=\"row\" gap=\"md\" align=\"start\">\n        <Flex\n          direction=\"column\"\n          align=\"stretch\"\n          style={{ flex: 1, maxWidth: 700 }}\n        >\n          <Flex direction=\"row\" justify=\"between\">\n            <Typography.Title level={4} style={{ marginTop: 0 }}>\n              {t('session.launcher.StartNewSession')}\n            </Typography.Title>\n            <Flex direction=\"row\" gap={'sm'}>\n              <Button\n                type=\"link\"\n                // icon={<BlockOutlined />}\n                // disabled\n                style={{ paddingRight: 0, paddingLeft: 0 }}\n                onClick={() => toggleIsOpenTemplateModal()}\n              >\n                {t('session.launcher.RecentHistory')}\n              </Button>\n            </Flex>\n          </Flex>\n          {/* <Suspense fallback={<FlexActivityIndicator />}> */}\n          <Form.Provider\n            onFormChange={(name, info) => {\n              // console.log('###', name, info);\n              // use OnFormChange instead of Form's onValuesChange,\n              // because onValuesChange will not be triggered when form is changed programmatically\n              syncFormToURLWithDebounce();\n            }}\n          >\n            <Form\n              form={form}\n              layout=\"vertical\"\n              requiredMark=\"optional\"\n              initialValues={mergedInitialValues}\n            >\n              <Flex\n                direction=\"column\"\n                align=\"stretch\"\n                gap=\"md\"\n                // style={{  }}\n              >\n                {/* Step 0 fields */}\n                <Card\n                  title={t('session.launcher.SessionType')}\n                  style={{\n                    display:\n                      currentStepKey === 'sessionType' ? 'block' : 'none',\n                  }}\n                >\n                  <Form.Item name=\"sessionType\">\n                    <Radio.Group\n                      options={[\n                        {\n                          label: (\n                            <>\n                              <Typography.Text code>\n                                {t('session.launcher.InteractiveMode')}\n                              </Typography.Text>{' '}\n                              <Typography.Text type=\"secondary\">\n                                {t('session.launcher.InteractiveModeDesc')}\n                              </Typography.Text>\n                            </>\n                          ),\n                          value: 'interactive',\n                        },\n                        {\n                          label: (\n                            <>\n                              <Typography.Text code>\n                                {t('session.launcher.BatchMode')}\n                              </Typography.Text>{' '}\n                              <Typography.Text type=\"secondary\">\n                                {t('session.launcher.BatchModeDesc')}\n                              </Typography.Text>\n                            </>\n                          ),\n                          value: 'batch',\n                        },\n                      ]}\n                    />\n                    {/* <Segmented\n                      width={100}\n                      options={[\n                        {\n                          label: (\n                            <SessionTypeItem\n                              title=\"🏃‍♀️ Make, test and run\"\n                              description=\"Interactive mode allows you to create, test and run code interactively via jupyter notebook, visual studio code, etc.\"\n                            />\n                          ),\n                          value: 'interactive',\n                        },\n                        {\n                          label: (\n                            <SessionTypeItem\n                              title=\"⌚️ Start an long-running task\"\n                              description=\"Batch mode runs your code with multiple node & clusters to scale your idea\"\n                            />\n                          ),\n                          value: 'batch',\n                        },\n                        // {\n                        //   label: (\n                        //     <SessionTypeItem\n                        //       title=\"🤖 Run a inference service\"\n                        //       description=\"Inference allow you dynamically scale your mode service\"\n                        //     />\n                        //   ),\n                        //   value: 'inference',\n                        // },\n                      ]}\n                    /> */}\n                  </Form.Item>\n                  <SessionNameFormItem />\n                  <Form.Item\n                    name=\"bootstrap_script\"\n                    label=\"Bootstrap Script\"\n                    hidden\n                  >\n                    <Input />\n                  </Form.Item>\n                </Card>\n\n                {sessionType === 'batch' && (\n                  <Card\n                    title={t('session.launcher.BatchModeConfig')}\n                    style={{\n                      display:\n                        currentStepKey === 'sessionType' ? 'block' : 'none',\n                    }}\n                  >\n                    <Form.Item\n                      label={t('session.launcher.StartUpCommand')}\n                      name={['batch', 'command']}\n                      rules={[\n                        {\n                          required: true,\n                          type: 'string',\n                        },\n                      ]}\n                    >\n                      <Input.TextArea autoSize />\n                    </Form.Item>\n                    <Form.Item\n                      label={t('session.launcher.SessionStartTime')}\n                      extra={\n                        <Form.Item\n                          noStyle\n                          shouldUpdate={(prev, next) =>\n                            prev.batch.scheduleDate !== next.batch.scheduleDate\n                          }\n                        >\n                          {() => {\n                            const scheduleDate = form.getFieldValue([\n                              'batch',\n                              'scheduleDate',\n                            ]);\n                            return (\n                              <BAIIntervalText\n                                delay={1000}\n                                callback={() => {\n                                  const scheduleDate = form.getFieldValue([\n                                    'batch',\n                                    'scheduleDate',\n                                  ]);\n                                  if (scheduleDate) {\n                                    if (dayjs(scheduleDate).isBefore(dayjs())) {\n                                      if (\n                                        form.getFieldError([\n                                          'batch',\n                                          'scheduleDate',\n                                        ]).length === 0\n                                      ) {\n                                        form.validateFields([\n                                          ['batch', 'scheduleDate'],\n                                        ]);\n                                      }\n                                      return undefined;\n                                    } else {\n                                      return dayjs(scheduleDate).fromNow();\n                                    }\n                                  } else {\n                                    return undefined;\n                                  }\n                                }}\n                                triggerKey={\n                                  scheduleDate ? scheduleDate : 'none'\n                                }\n                              />\n                            );\n                          }}\n                        </Form.Item>\n                      }\n                    >\n                      <Flex direction=\"row\" gap={'xs'}>\n                        <Form.Item\n                          noStyle\n                          name={['batch', 'enabled']}\n                          valuePropName=\"checked\"\n                        >\n                          <Checkbox\n                            onChange={(e) => {\n                              if (\n                                e.target.checked &&\n                                _.isEmpty(\n                                  form.getFieldValue(['batch', 'scheduleDate']),\n                                )\n                              ) {\n                                form.setFieldValue(\n                                  ['batch', 'scheduleDate'],\n                                  dayjs().add(2, 'minutes').toISOString(),\n                                );\n                              } else if (e.target.checked === false) {\n                                form.setFieldValue(\n                                  ['batch', 'scheduleDate'],\n                                  undefined,\n                                );\n                              }\n                              form.validateFields([['batch', 'scheduleDate']]);\n                            }}\n                          >\n                            {t('session.launcher.Enable')}\n                          </Checkbox>\n                        </Form.Item>\n                        <Form.Item\n                          noStyle\n                          // dependencies={[['batch', 'enabled']]}\n                          shouldUpdate={(prev, next) => {\n                            return (\n                              // @ts-ignore\n                              prev.batch?.enabled !== next.batch?.enabled\n                            );\n                          }}\n                        >\n                          {() => {\n                            const disabled =\n                              form.getFieldValue('batch')?.enabled !== true;\n                            return (\n                              <>\n                                <Form.Item\n                                  name={['batch', 'scheduleDate']}\n                                  noStyle\n                                  rules={[\n                                    {\n                                      // required: true,\n                                      validator: async (rule, value) => {\n                                        if (\n                                          value &&\n                                          dayjs(value).isBefore(dayjs())\n                                        ) {\n                                          return Promise.reject(\n                                            t(\n                                              'session.launcher.StartTimeMustBeInTheFuture',\n                                            ),\n                                          );\n                                        }\n                                        return Promise.resolve();\n                                      },\n                                    },\n                                  ]}\n                                >\n                                  <DatePickerISO\n                                    disabled={disabled}\n                                    showTime\n                                    localFormat\n                                    disabledDate={(value) => {\n                                      return value.isBefore(\n                                        dayjs().startOf('day'),\n                                      );\n                                    }}\n                                  />\n                                </Form.Item>\n                                {/* <Form.Item\n                                      noStyle\n                                      name={['batch', 'scheduleTime']}\n                                    >\n                                      <TimePicker disabled={disabled} />\n                                    </Form.Item> */}\n                              </>\n                            );\n                          }}\n                        </Form.Item>\n                      </Flex>\n                    </Form.Item>\n                  </Card>\n                )}\n\n                {(currentUserRole === 'admin' ||\n                  currentUserRole === 'superadmin') && (\n                  <SessionOwnerSetterCard\n                    style={{\n                      display:\n                        currentStepKey === 'sessionType' ? 'block' : 'none',\n                    }}\n                  />\n                )}\n\n                {sessionType === 'inference' && (\n                  <Card title=\"Inference Mode Configuration\">\n                    <Form.Item\n                      name={['inference', 'vFolderName']}\n                      label={t('session.launcher.ModelStorageToMount')}\n                      rules={[\n                        {\n                          required: true,\n                        },\n                      ]}\n                    >\n                      <Select />\n                      {/* <VFolderSelect\n                          filter={(vf) => vf.usage_mode === 'model'}\n                          autoSelectDefault\n                          /> */}\n                    </Form.Item>\n                  </Card>\n                )}\n\n                {/* Step Start*/}\n                <Card\n                  title={t('session.launcher.Environments')}\n                  style={{\n                    display:\n                      currentStepKey === 'environment' ? 'block' : 'none',\n                  }}\n                >\n                  <ErrorBoundary\n                    fallbackRender={(e) => {\n                      console.log(e);\n                      return null;\n                    }}\n                  >\n                    <ImageEnvironmentSelectFormItems />\n                  </ErrorBoundary>\n                  <Form.Item label={t('session.launcher.EnvironmentVariable')}>\n                    <EnvVarFormList\n                      name={'envvars'}\n                      formItemProps={{\n                        validateTrigger: ['onChange', 'onBlur'],\n                      }}\n                    />\n                  </Form.Item>\n                </Card>\n                <Card\n                  title={t('session.launcher.ResourceAllocation')}\n                  style={{\n                    display:\n                      currentStepKey === 'environment' ? 'block' : 'none',\n                  }}\n                >\n                  <ResourceAllocationFormItems\n                    enableNumOfSessions\n                    enableResourcePresets\n                    showRemainingWarning\n                  />\n                </Card>\n                <Card\n                  title={t('session.launcher.HPCOptimization')}\n                  style={{\n                    display:\n                      currentStepKey === 'environment' ? 'block' : 'none',\n                  }}\n                >\n                  <Form.Item noStyle>\n                    <Flex direction=\"row\" gap={'sm'}>\n                      <Typography.Text>\n                        {t('session.launcher.SwitchOpenMPoptimization')}\n                      </Typography.Text>\n                      <Form.Item\n                        label={t('session.launcher.SwitchOpenMPoptimization')}\n                        name={['hpcOptimization', 'autoEnabled']}\n                        valuePropName=\"checked\"\n                        required\n                        noStyle\n                      >\n                        <Switch\n                          checkedChildren={'ON'}\n                          unCheckedChildren={'OFF'}\n                          onChange={(checked) => {\n                            if (checked) {\n                              form.setFieldsValue(\n                                _.pick(INITIAL_FORM_VALUES, [\n                                  'hpcOptimization',\n                                ]),\n                              );\n                            }\n                          }}\n                        />\n                      </Form.Item>\n                    </Flex>\n                  </Form.Item>\n                  <Form.Item\n                    noStyle\n                    shouldUpdate={(prev, next) => {\n                      return (\n                        prev.hpcOptimization?.autoEnabled !==\n                        next.hpcOptimization?.autoEnabled\n                      );\n                    }}\n                  >\n                    {() => {\n                      const enabled = form.getFieldValue([\n                        'hpcOptimization',\n                        'autoEnabled',\n                      ]);\n                      return (\n                        <Row\n                          gutter={token.marginMD}\n                          style={{\n                            display: enabled ? 'none' : undefined,\n                            marginTop: token.marginMD,\n                          }}\n                        >\n                          <Col xs={24} sm={12}>\n                            <Form.Item\n                              style={{ flex: 1 }}\n                              label={t('session.launcher.NumOpenMPthreads')}\n                              name={['hpcOptimization', 'OMP_NUM_THREADS']}\n                              tooltip={\n                                <>\n                                  {t('session.launcher.OpenMPOptimization')}\n                                  <Trans\n                                    i18nKey={\n                                      'session.launcher.DescOpenMPOptimization'\n                                    }\n                                  />\n                                </>\n                              }\n                              required\n                            >\n                              <InputNumber\n                                min={0}\n                                max={1000}\n                                step={1}\n                                stringMode\n                                style={{ width: '100%' }}\n                              />\n                            </Form.Item>\n                          </Col>\n                          <Col xs={24} sm={12}>\n                            <Form.Item\n                              style={{ flex: 1 }}\n                              label={t('session.launcher.NumOpenBLASthreads')}\n                              name={['hpcOptimization', 'OPENBLAS_NUM_THREADS']}\n                              tooltip={\n                                <>\n                                  {t('session.launcher.OpenMPOptimization')}\n                                  <Trans\n                                    i18nKey={\n                                      'session.launcher.DescOpenMPOptimization'\n                                    }\n                                  />\n                                </>\n                              }\n                              required\n                            >\n                              <InputNumber\n                                min={0}\n                                max={1000}\n                                step={1}\n                                stringMode\n                                style={{ width: '100%' }}\n                              />\n                            </Form.Item>\n                          </Col>\n                        </Row>\n                      );\n                    }}\n                  </Form.Item>\n                </Card>\n                {/* Step Start*/}\n                <Card\n                  title={t('webui.menu.Data&Storage')}\n                  style={{\n                    display: currentStepKey === 'storage' ? 'block' : 'none',\n                  }}\n                >\n                  <VFolderTableFormItem\n                    filter={(vfolder) => {\n                      return (\n                        vfolder.status === 'ready' &&\n                        !vfolder.name?.startsWith('.')\n                      );\n                    }}\n                  />\n                  {/* <VFolderTable /> */}\n                </Card>\n\n                {/* Step Start*/}\n                <Card\n                  title={t('session.launcher.Network')}\n                  style={{\n                    display: currentStepKey === 'network' ? 'block' : 'none',\n                  }}\n                >\n                  <PortSelectFormItem />\n                </Card>\n\n                {/* Step Start*/}\n                {currentStepKey === 'review' && (\n                  <>\n                    <BAICard\n                      title={t('session.launcher.SessionType')}\n                      size=\"small\"\n                      status={\n                        form.getFieldError('sessionName').length > 0 ||\n                        form.getFieldError(['batch', 'command']).length > 0 ||\n                        form.getFieldError(['batch', 'scheduleDate']).length > 0\n                          ? 'error'\n                          : undefined\n                      }\n                      extraButtonTitle={t('button.Edit')}\n                      onClickExtraButton={() => {\n                        setCurrentStep(\n                          // @ts-ignore\n                          steps.findIndex((v) => v.key === 'sessionType'),\n                        );\n                      }}\n                      // extra={\n                      //   <Button\n                      //     type=\"link\"\n                      //     onClick={() => {\n                      //       setCurrentStep(\n                      //         // @ts-ignore\n                      //         steps.findIndex((v) => v.key === 'sessionType'),\n                      //       );\n                      //     }}\n                      //     icon={\n                      //       form.getFieldError('name').length > 0 && (\n                      //         <ExclamationCircleTwoTone\n                      //           twoToneColor={token.colorError}\n                      //         />\n                      //       )\n                      //     }\n                      //   >\n                      //     {t('button.Edit')}\n                      //   </Button>\n                      // }\n                    >\n                      <Descriptions size=\"small\" column={1}>\n                        <Descriptions.Item label={t('session.SessionType')}>\n                          {form.getFieldValue('sessionType')}\n                        </Descriptions.Item>\n                        {!_.isEmpty(form.getFieldValue('sessionName')) && (\n                          <Descriptions.Item\n                            label={t('session.launcher.SessionName')}\n                          >\n                            {form.getFieldValue('sessionName')}\n                          </Descriptions.Item>\n                        )}\n                        {sessionType === 'batch' && (\n                          <>\n                            <Descriptions.Item\n                              label={t('session.launcher.StartUpCommand')}\n                              labelStyle={{ whiteSpace: 'nowrap' }}\n                              contentStyle={{\n                                overflow: 'auto',\n                              }}\n                            >\n                              {form.getFieldValue(['batch', 'command']) ? (\n                                <SourceCodeViewer language=\"shell\">\n                                  {form.getFieldValue(['batch', 'command'])}\n                                </SourceCodeViewer>\n                              ) : (\n                                <Typography.Text type=\"secondary\">\n                                  {t('general.None')}\n                                </Typography.Text>\n                              )}\n                            </Descriptions.Item>\n                            <Descriptions.Item\n                              label={t('session.launcher.ScheduleTimeSimple')}\n                            >\n                              {form.getFieldValue(['batch', 'scheduleDate']) ? (\n                                dayjs(\n                                  form.getFieldValue(['batch', 'scheduleDate']),\n                                ).format('LLL (Z)')\n                              ) : (\n                                <Typography.Text type=\"secondary\">\n                                  {t('general.None')}\n                                </Typography.Text>\n                              )}\n                            </Descriptions.Item>\n                          </>\n                        )}\n                      </Descriptions>\n                    </BAICard>\n                    <SessionOwnerSetterPreviewCard\n                      onClickExtraButton={() => {\n                        setCurrentStep(\n                          // @ts-ignore\n                          steps.findIndex((v) => v.key === 'sessionType'),\n                        );\n                      }}\n                    />\n                    <BAICard\n                      title={t('session.launcher.Environments')}\n                      size=\"small\"\n                      status={\n                        _.some(form.getFieldValue('envvars'), (v, idx) => {\n                          return (\n                            form.getFieldError(['envvars', idx, 'variable'])\n                              .length > 0 ||\n                            form.getFieldError(['envvars', idx, 'value'])\n                              .length > 0\n                          );\n                        })\n                          ? 'error'\n                          : undefined\n                      }\n                      extraButtonTitle={t('button.Edit')}\n                      onClickExtraButton={() => {\n                        setCurrentStep(\n                          // @ts-ignore\n                          steps.findIndex((v) => v.key === 'environment'),\n                        );\n                      }}\n                    >\n                      <Descriptions size=\"small\" column={1}>\n                        <Descriptions.Item\n                          label={t('session.launcher.Project')}\n                        >\n                          {currentProject.name}\n                        </Descriptions.Item>\n                        <Descriptions.Item label={t('general.Image')}>\n                          <Row\n                            style={{ flexFlow: 'nowrap', gap: token.sizeXS }}\n                          >\n                            <Col>\n                              <ImageMetaIcon\n                                image={\n                                  form.getFieldValue('environments')?.version ||\n                                  form.getFieldValue('environments')?.manual\n                                }\n                              />\n                            </Col>\n                            <Col>\n                              {/* {form.getFieldValue('environments').image} */}\n                              <Flex direction=\"row\">\n                                {form.getFieldValue('environments')?.manual ? (\n                                  <Typography.Text\n                                    code\n                                    style={{ wordBreak: 'break-all' }}\n                                    copyable={{\n                                      text: form.getFieldValue('environments')\n                                        ?.manual,\n                                    }}\n                                  >\n                                    {form.getFieldValue('environments')?.manual}\n                                  </Typography.Text>\n                                ) : (\n                                  <>\n                                    <SessionKernelTags\n                                      image={\n                                        form.getFieldValue('environments')\n                                          ?.version\n                                      }\n                                    />\n                                    {form.getFieldValue('environments')\n                                      ?.customizedTag ? (\n                                      <DoubleTag\n                                        values={[\n                                          {\n                                            label: 'Customized',\n                                            color: 'cyan',\n                                          },\n                                          {\n                                            label:\n                                              form.getFieldValue('environments')\n                                                ?.customizedTag,\n                                            color: 'cyan',\n                                          },\n                                        ]}\n                                      />\n                                    ) : null}\n                                    <Typography.Text\n                                      copyable={{\n                                        text: form.getFieldValue('environments')\n                                          ?.version,\n                                      }}\n                                    />\n                                  </>\n                                )}\n                              </Flex>\n                            </Col>\n                          </Row>\n                        </Descriptions.Item>\n                        {form.getFieldValue('envvars')?.length > 0 && (\n                          <Descriptions.Item\n                            label={t('session.launcher.EnvironmentVariable')}\n                          >\n                            {form.getFieldValue('envvars')?.length ? (\n                              <SyntaxHighlighter\n                                style={isDarkMode ? dark : undefined}\n                                codeTagProps={{\n                                  style: {\n                                    // fontFamily: 'monospace',\n                                  },\n                                }}\n                                // showLineNumbers\n                                customStyle={{\n                                  margin: 0,\n                                  width: '100%',\n                                }}\n                              >\n                                {_.map(\n                                  form.getFieldValue('envvars'),\n                                  (v: { variable: string; value: string }) =>\n                                    `${v?.variable || ''}=\"${v?.value || ''}\"`,\n                                ).join('\\n')}\n                              </SyntaxHighlighter>\n                            ) : (\n                              <Typography.Text type=\"secondary\">\n                                -\n                              </Typography.Text>\n                            )}\n                          </Descriptions.Item>\n                        )}\n                      </Descriptions>\n                    </BAICard>\n                    <BAICard\n                      title={t('session.launcher.ResourceAllocation')}\n                      status={\n                        _.some(form.getFieldValue('resource'), (v, key) => {\n                          //                         console.log(form.getFieldError(['resource', 'shmem']));\n                          // console.log(form.getFieldValue(['resource']));\n                          return (\n                            form.getFieldError(['resource', key]).length > 0\n                          );\n                        }) ||\n                        form.getFieldError(['num_of_sessions']).length > 0 ||\n                        form.getFieldError('resourceGroup').length > 0\n                          ? 'error'\n                          : // : _.some(form.getFieldValue('resource'), (v, key) => {\n                            //     //                         console.log(form.getFieldError(['resource', 'shmem']));\n                            //     // console.log(form.getFieldValue(['resource']));\n                            //     return (\n                            //       form.getFieldWarning(['resource', key]).length >\n                            //       0\n                            //     );\n                            //   })\n                            // ? 'warning'\n                            undefined\n                      }\n                      size=\"small\"\n                      extraButtonTitle={t('button.Edit')}\n                      onClickExtraButton={() => {\n                        setCurrentStep(\n                          // @ts-ignore\n                          steps.findIndex((v) => v.key === 'environment'),\n                        );\n                      }}\n                    >\n                      <Flex direction=\"column\" align=\"stretch\">\n                        {_.some(\n                          form.getFieldValue('resource')?.resource,\n                          (v, key) => {\n                            return (\n                              form.getFieldWarning(['resource', key]).length > 0\n                            );\n                          },\n                        ) && (\n                          <Alert\n                            type=\"warning\"\n                            showIcon\n                            message={t(\n                              'session.launcher.EnqueueComputeSessionWarning',\n                            )}\n                          />\n                        )}\n\n                        <Descriptions column={2}>\n                          <Descriptions.Item\n                            label={t('general.ResourceGroup')}\n                            span={2}\n                          >\n                            {form.getFieldValue('resourceGroup') || (\n                              <Typography.Text type=\"secondary\">\n                                {t('general.None')}\n                              </Typography.Text>\n                            )}\n                          </Descriptions.Item>\n                          <Descriptions.Item\n                            label={t(\n                              'session.launcher.ResourceAllocationPerContainer',\n                            )}\n                            span={2}\n                          >\n                            <Flex\n                              direction=\"row\"\n                              align=\"start\"\n                              gap={'sm'}\n                              wrap=\"wrap\"\n                              style={{ flex: 1 }}\n                            >\n                              {form.getFieldValue('allocationPreset') ===\n                              'custom' ? (\n                                // t('session.launcher.CustomAllocation')\n                                ''\n                              ) : (\n                                <Tag>\n                                  {form.getFieldValue('allocationPreset')}\n                                </Tag>\n                              )}\n\n                              <ResourceNumbersOfSession\n                                resource={form.getFieldValue('resource')}\n                              />\n                              {/* {_.chain(\n                              form.getFieldValue('allocationPreset') ===\n                                'custom'\n                                ? form.getFieldValue('resource')\n                                : JSON.parse(\n                                    form.getFieldValue('selectedPreset')\n                                      ?.resource_slots || '{}',\n                                  ),\n                            )\n                              .map((value, type) => {\n                                // @ts-ignore\n                                if (resourceSlots[type] === undefined)\n                                  return undefined;\n                                const resource_opts = {\n                                  shmem:\n                                    form.getFieldValue('selectedPreset')\n                                      .shared_memory,\n                                };\n                                return (\n                                  <ResourceNumber\n                                    key={type}\n                                    // @ts-ignore\n                                    type={type}\n                                    value={value}\n                                    opts={resource_opts}\n                                  />\n                                );\n                              })\n                              .compact()\n                              .value()} */}\n                            </Flex>\n                          </Descriptions.Item>\n                          <Descriptions.Item\n                            label={t('session.launcher.NumberOfContainer')}\n                          >\n                            {form.getFieldValue('cluster_size') === 1\n                              ? form.getFieldValue('num_of_sessions')\n                              : form.getFieldValue('cluster_size')}\n                          </Descriptions.Item>\n                          <Descriptions.Item\n                            label={t('session.launcher.ClusterMode')}\n                          >\n                            {form.getFieldValue('cluster_mode') ===\n                            'single-node'\n                              ? t('session.launcher.SingleNode')\n                              : t('session.launcher.MultiNode')}\n                          </Descriptions.Item>\n                        </Descriptions>\n                        <Card\n                          size=\"small\"\n                          type=\"inner\"\n                          title={t('session.launcher.TotalAllocation')}\n                        >\n                          <Flex direction=\"row\" gap=\"xxs\">\n                            <ResourceNumbersOfSession\n                              resource={form.getFieldValue('resource')}\n                              containerCount={\n                                form.getFieldValue('cluster_size') === 1\n                                  ? form.getFieldValue('num_of_sessions')\n                                  : form.getFieldValue('cluster_size')\n                              }\n                            />\n                          </Flex>\n                        </Card>\n                      </Flex>\n                    </BAICard>\n                    <BAICard\n                      title={t('webui.menu.Data&Storage')}\n                      size=\"small\"\n                      status={\n                        form.getFieldError('vfoldersAliasMap').length > 0\n                          ? 'error'\n                          : undefined\n                      }\n                      extraButtonTitle={t('button.Edit')}\n                      onClickExtraButton={() => {\n                        setCurrentStep(\n                          // @ts-ignore\n                          steps.findIndex((v) => v.key === 'storage'),\n                        );\n                      }}\n                    >\n                      {/* {console.log(_.sum([form.getFieldValue('mounts')?.length, form.getFieldValue('autoMountedFolderNames')]))} */}\n                      {/* {_.sum([form.getFieldValue('mounts')?.length, form.getFieldValue('autoMountedFolderNames').length]) > 0 ? ( */}\n                      <Flex direction=\"column\" align=\"stretch\" gap={'xs'}>\n                        {form.getFieldValue('mounts')?.length > 0 ? (\n                          <Table\n                            rowKey=\"name\"\n                            size=\"small\"\n                            pagination={false}\n                            columns={[\n                              {\n                                dataIndex: 'name',\n                                title: t('data.folders.Name'),\n                              },\n                              {\n                                dataIndex: 'alias',\n                                title: t('session.launcher.FolderAlias'),\n                                render: (value, record) => {\n                                  return _.isEmpty(value) ? (\n                                    <Typography.Text\n                                      type=\"secondary\"\n                                      style={{\n                                        opacity: 0.7,\n                                      }}\n                                    >\n                                      {`/home/work/${record.name}`}\n                                    </Typography.Text>\n                                  ) : (\n                                    value\n                                  );\n                                },\n                              },\n                            ]}\n                            dataSource={_.map(\n                              form.getFieldValue('mounts'),\n                              (v) => {\n                                return {\n                                  name: v,\n                                  alias:\n                                    form.getFieldValue('vfoldersAliasMap')?.[v],\n                                };\n                              },\n                            )}\n                          ></Table>\n                        ) : (\n                          <Alert\n                            type=\"warning\"\n                            showIcon\n                            message={t('session.launcher.NoFolderMounted')}\n                          />\n                        )}\n                        {form.getFieldValue('autoMountedFolderNames')?.length >\n                        0 ? (\n                          <Descriptions size=\"small\">\n                            <Descriptions.Item\n                              label={t('data.AutomountFolders')}\n                            >\n                              {_.map(\n                                form.getFieldValue('autoMountedFolderNames'),\n                                (name) => {\n                                  return <Tag>{name}</Tag>;\n                                },\n                              )}\n                            </Descriptions.Item>\n                          </Descriptions>\n                        ) : null}\n                      </Flex>\n                    </BAICard>\n                    <BAICard\n                      title=\"Network\"\n                      size=\"small\"\n                      status={\n                        form.getFieldError('ports').length > 0\n                          ? 'error'\n                          : undefined\n                      }\n                      extraButtonTitle={t('button.Edit')}\n                      onClickExtraButton={() => {\n                        setCurrentStep(\n                          // @ts-ignore\n                          steps.findIndex((v) => v.key === 'network'),\n                        );\n                      }}\n                    >\n                      <Descriptions size=\"small\">\n                        <Descriptions.Item\n                          label={t('session.launcher.PreOpenPortTitle')}\n                        >\n                          <Flex\n                            direction=\"row\"\n                            gap=\"xs\"\n                            style={{ flex: 1 }}\n                            wrap=\"wrap\"\n                          >\n                            {/* {form.getFieldValue('environments').image} */}\n                            {_.sortBy(form.getFieldValue('ports'), (v) =>\n                              parseInt(v),\n                            ).map((v) => (\n                              <PortTag value={v} style={{ margin: 0 }}>\n                                {v}\n                              </PortTag>\n                            ))}\n\n                            {!_.isArray(form.getFieldValue('ports')) ||\n                            form.getFieldValue('ports')?.length === 0 ? (\n                              <Typography.Text type=\"secondary\">\n                                {t('general.None')}\n                              </Typography.Text>\n                            ) : null}\n                          </Flex>\n                        </Descriptions.Item>\n                      </Descriptions>\n                    </BAICard>\n                  </>\n                )}\n\n                <Flex direction=\"row\" justify=\"between\">\n                  <Flex gap={'sm'}>\n                    <Popconfirm\n                      title={t('button.Reset')}\n                      description={t('session.launcher.ResetFormConfirm')}\n                      onConfirm={() => {\n                        webuiNavigate('/session/start');\n                        form.resetFields();\n                      }}\n                      icon={\n                        <QuestionCircleOutlined\n                          style={{ color: token.colorError }}\n                        />\n                      }\n                      okText={t('button.Reset')}\n                      okButtonProps={{\n                        danger: true,\n                      }}\n                    >\n                      <Button\n                        danger\n                        type=\"link\"\n                        style={{ paddingRight: 0, paddingLeft: 0 }}\n                      >\n                        {t('button.Reset')}\n                      </Button>\n                    </Popconfirm>\n                    {/* {currentStep === steps.length - 1 && (\n                      <Button\n                        icon={<SaveOutlined />}\n                        disabled\n                        onClick={() => {\n                          message.info(\n                            'Not implemented yet: Template edit modal',\n                          );\n                        }}\n                      >\n                        Save as a template\n                      </Button>\n                    )} */}\n                  </Flex>\n                  <Flex\n                    data-test-id=\"neo-session-launcher-tour-step-navigation\"\n                    direction=\"row\"\n                    gap=\"sm\"\n                  >\n                    {currentStep > 0 && (\n                      <Button\n                        onClick={() => {\n                          setCurrentStep(currentStep - 1);\n                        }}\n                        icon={<LeftOutlined />}\n                        disabled={isStartingSession}\n                      >\n                        {t('button.Previous')}\n                      </Button>\n                    )}\n                    {currentStep === steps.length - 1 ? (\n                      <Tooltip\n                        title={\n                          hasError\n                            ? t('session.launcher.PleaseCompleteForm')\n                            : undefined\n                        }\n                      >\n                        <Button\n                          type=\"primary\"\n                          icon={<PlayCircleOutlined />}\n                          disabled={hasError}\n                          onClick={startSession}\n                          loading={isStartingSession}\n                        >\n                          {t('session.launcher.Launch')}\n                        </Button>\n                      </Tooltip>\n                    ) : (\n                      <Button\n                        type=\"primary\"\n                        ghost\n                        onClick={() => {\n                          setCurrentStep(currentStep + 1);\n                        }}\n                      >\n                        {t('button.Next')} <RightOutlined />\n                      </Button>\n                    )}\n                    {currentStep !== steps.length - 1 && (\n                      <Button\n                        onClick={() => {\n                          setCurrentStep(steps.length - 1);\n                        }}\n                      >\n                        {t('session.launcher.SkipToConfirmAndLaunch')}\n                        <DoubleRightOutlined />\n                      </Button>\n                    )}\n                  </Flex>\n                </Flex>\n              </Flex>\n            </Form>\n          </Form.Provider>\n          {/* </Suspense> */}\n        </Flex>\n        {screens.lg && (\n          <Flex\n            data-test-id=\"neo-session-launcher-tour-step\"\n            style={{ position: 'sticky', top: 80 }}\n          >\n            <Steps\n              size=\"small\"\n              direction=\"vertical\"\n              current={currentStep}\n              onChange={(nextCurrent) => {\n                setCurrentStep(nextCurrent);\n              }}\n              items={_.map(steps, (s, idx) => ({\n                ...s,\n                status: idx === currentStep ? 'process' : 'wait',\n              }))}\n            />\n          </Flex>\n        )}\n      </Flex>\n      <SessionTemplateModal\n        onRequestClose={(formValue) => {\n          if (formValue) {\n            const fieldsValue = _.merge(\n              {\n                // reset fields related to optional and nested fields\n                sessionName: '',\n                ports: [],\n                mounts: [],\n                vfoldersAliasMap: {},\n                bootstrap_script: '',\n                num_of_sessions: 1,\n                owner: {\n                  enabled: false,\n                  accesskey: '',\n                  domainName: '',\n                  email: undefined,\n                  project: '',\n                  resourceGroup: '',\n                },\n                environments: {\n                  manual: '',\n                },\n                batch: {\n                  enabled: false,\n                  command: undefined,\n                  scheduleDate: undefined,\n                },\n              } as Omit<\n                Required<OptionalFieldsOnly<SessionLauncherFormValue>>,\n                'autoMountedFolderNames'\n              >,\n              formValue,\n            );\n\n            if (!_.isEmpty(fieldsValue.sessionName)) {\n              fieldsValue.sessionName =\n                fieldsValue.sessionName + '-' + generateRandomString(4);\n            }\n            form.setFieldsValue(fieldsValue);\n            setCurrentStep(steps.length - 1);\n            form.validateFields().catch(() => {});\n          }\n          toggleIsOpenTemplateModal();\n        }}\n        open={isOpenTemplateModal}\n      />\n      {currentStep === steps.length - 1 ? (\n        <ErrorBoundary fallback={null}>\n          <SessionLauncherValidationTour\n            open={validationTourOpen}\n            onClose={() => {\n              setValidationTourOpen(false);\n            }}\n            scrollIntoViewOptions\n          />\n        </ErrorBoundary>\n      ) : undefined}\n    </Flex>\n  );\n};\n\ntype FormOrResourceRequired = {\n  resource: ResourceAllocationFormValue['resource'];\n  containerCount?: number;\n};\n\nexport const ResourceNumbersOfSession: React.FC<FormOrResourceRequired> = ({\n  resource,\n  containerCount = 1,\n}) => {\n  return (\n    <>\n      {_.map(\n        _.omit(resource, 'shmem', 'accelerator', 'acceleratorType'),\n        (value, type) => {\n          return (\n            <ResourceNumber\n              key={type}\n              // @ts-ignore\n              type={type}\n              value={\n                type === 'mem'\n                  ? (iSizeToSize(value.toString(), 'b')?.number || 0) *\n                      containerCount +\n                    ''\n                  : _.toNumber(value) * containerCount + ''\n              }\n              opts={{\n                shmem: resource.shmem\n                  ? (iSizeToSize(resource.shmem, 'b')?.number || 0) *\n                    containerCount\n                  : undefined,\n              }}\n            />\n          );\n        },\n      )}\n      {resource &&\n      resource.accelerator &&\n      resource.acceleratorType &&\n      _.isNumber(resource.accelerator) ? (\n        <ResourceNumber\n          // @ts-ignore\n          type={resource.acceleratorType}\n          value={_.toString(resource.accelerator * containerCount)}\n        />\n      ) : null}\n    </>\n  );\n};\n\nconst generateSessionId = () => {\n  let text = '';\n  const possible =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  for (let i = 0; i < 8; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n  return text + '-session';\n};\n\nexport default SessionLauncherPage;\n"],"names":["_ref","status","extraButtonTitle","onClickExtraButton","extra","style","cardProps","token","theme","useToken","_extra","_jsx","Button","type","icon","CloseCircleTwoTone","twoToneColor","colorError","WarningTwoTone","colorWarning","undefined","onClick","children","Card","className","_","borderColor","colorSuccess","React","ref","value","onChange","localFormat","pickerProps","setControllableValue","useControllableValue","DatePicker","dayjs","_value","_value2","_value2$tz","newValue","format","tz","toISOString","props","form","Form","useFormInstance","useEffect","setFieldValue","name","Item","hidden","ImageAliasNameAndBaseVersionTags","image","getImageAliasName","getBaseVersion","tagAlias","useBackendAIImageMetaData","DoubleTag","values","label","color","BaseVersionTags","_ref2","Tag","BaseImageTags","_ref3","getBaseImage","ArchitectureTags","_ref4","getArchitecture","LangTags","_ref5","getImageLang","ConstraintTags","_ref6","tag","labels","highlightKeyword","getConstraints","constraints","_jsxs","Flex","direction","align","TextHighlighter","keyword","SessionKernelTags","_ref7","bordered","_Fragment","node","v0","v1","v2","v3","v4","v5","hash","MIN_PORT","MAX_PORT","PortTag","inValid","tagProps","isValidPortStr","portStr","isPortRangeStr","splitPortRange","split","start","end","map","v","parseInt","toString","portRange","length","transformPortValuesToNumbers","parsePortRangeToNumbers","formItemProps","t","useTranslation","baiClient","useSuspendedBackendaiClient","tooltip","Trans","i18nKey","rules","validator","rule","_config","maxCountForPreopenPorts","Promise","resolve","reject","Error","count","allPorts","port","Select","mode","tagRender","hasDuplicated","getFieldValue","closable","onClose","onMouseDown","e","preventDefault","stopPropagation","width","suffixIcon","open","tokenSeparators","otherProps","hasOpenedValidationTour","setHasOpenedValidationTour","useBAISettingUserState","steps","title","description","target","_document$getElements","document","getElementsByClassName","_document$getElements2","_document$getElements3","querySelector","Tour","min","message","max","f","test","Input","allowClear","autoComplete","autoSelectOption","selectProps","options","useLayoutEffect","projectName","autoSelectDefault","filter","searchValue","onSearch","loading","baiRequestWithPromise","useBaiSignedRequestWithPromise","fetchKey","useUpdatableState","controllableSearchValue","setControllableSearchValue","useControllableState","controllableValue","data","resourceGroupSelectQueryResult","useSuspenseTanQuery","queryKey","queryFn","search","URLSearchParams","set","all","method","url","staleTime","sftpResourceGroups","volume_info","item","_item$sftp_scaling_gr","sftp_scaling_groups","resourceGroups","scaling_groups","autoSelectedResourceGroup","autoSelectedOption","searchProps","showSearch","defaultActiveFirstOption","defaultValue","onDropdownVisibleChange","resourceGroup","optionRender","option","_option$data$value","SessionOwnerSetterPreviewCard","isActive","useWatch","currentUserRole","useCurrentUserRole","BAICard","size","getFieldError","Descriptions","column","fetchingEmail","setFetchingEmail","useState","relayEvn","useRelayEnvironment","isFetching","useTanQuery","email","query","_SessionOwnerSetterCardQuery","require","fetchQuery","toPromise","enabled","ownerKeypairs","keypairs","owner","user","nonExistentOwner","valuePropName","noStyle","Switch","styles","header","borderBottom","body","display","HiddenFormItem","domain_name","dependencies","required","flex","validateStatus","help","Search","validateFields","then","catch","setFieldsValue","accesskey","project","enterButton","CheckIcon","BAISelect","k","access_key","disabled","Row","gutter","marginSM","Col","span","groups","g","Suspense","fallback","ResourceGroupSelect","useRecentSessionHistory","recentSessionHistory","setRecentSessionHistory","push","useEventNotStable","id","params","createdAt","newRecentSessionHistory","generateRandomString","Date","slice","clear","remove","modalProps","sessionHistory","selectedHistoryId","setSelectedHistoryId","parsedSessionHistory","useMemo","history","formValues","JSON","parse","get","BAIModal","okButtonProps","okText","onOk","_$find","_modalProps$onRequest","onRequestClose","call","onCancel","Divider","margin","Table","showHeader","scroll","x","dataSource","pagination","rowSelection","selectedRowKeys","onSelect","record","onRow","rowKey","columns","dataIndex","render","version","imageStr","environments","manual","gap","ImageMetaIcon","Typography","Text","sessionName","resource","ResourceNumbersOfSession","fromNow","containerCount","_iSizeToSize","_iSizeToSize2","ResourceNumber","iSizeToSize","number","opts","shmem","accelerator","acceleratorType","generateSessionId","text","possible","i","charAt","Math","floor","random","SessionLauncherPage","_baiClient$_config3","_steps$currentStep","_form$getFieldValue2","_form$getFieldValue3","_form$getFieldValue4","_form$getFieldValue5","_form$getFieldValue6","_form$getFieldValue7","_form$getFieldValue8","_form$getFieldValue9","_form$getFieldValue10","_form$getFieldValue11","_form$getFieldValue12","_form$getFieldValue13","_form$getFieldValue14","_form$getFieldValue16","_form$getFieldValue17","app","App","useApp","sessionMode","mainContentDivRef","useAtomValue","mainContentDivRefState","isStartingSession","setIsStartingSession","INITIAL_FORM_VALUES","_baiClient$_config","_baiClient$_config2","sessionType","allocationPreset","hpcOptimization","autoEnabled","OMP_NUM_THREADS","OPENBLAS_NUM_THREADS","batch","command","scheduleDate","envvars","default_session_environment","environment","RESOURCE_ALLOCATION_INITIAL_FORM_VALUES","StepParam","withDefault","NumberParam","FormValuesParam","JsonParam","AppOptionParam","step","currentStep","formValuesFromQueryParams","redirectTo","appOption","appOptionFromQueryParams","setQuery","useQueryParams","StringParam","useLocation","isDarkMode","useThemeMode","webuiNavigate","useWebUINavigate","currentProject","useCurrentProjectValue","isOpenTemplateModal","toggle","toggleIsOpenTemplateModal","useToggle","upsertNotification","useSetBAINotification","pushSessionHistory","run","syncFormToURLWithDebounce","useDebounceFn","currentValue","getFieldsValue","sanitizeSensitiveEnv","leading","wait","trailing","setCurrentStep","nextStep","screens","Grid","useBreakpoint","useForm","mergedInitialValues","_mainContentDivRef$cu","current","scrollTo","preserve","key","PlayCircleFilled","currentStepKey","hasError","getFieldsError","errors","finalStepLastValidateTime","setFinalStepLastValidateTime","error","finally","setValidationTourOpen","validationTourOpen","justifyContent","maxWidth","justify","Title","level","marginTop","paddingRight","paddingLeft","Provider","onFormChange","info","layout","requiredMark","initialValues","Radio","code","SessionNameFormItem","TextArea","autoSize","shouldUpdate","prev","next","BAIIntervalText","delay","callback","isBefore","triggerKey","Checkbox","checked","add","_prev$batch","_next$batch","_form$getFieldValue","async","DatePickerISO","showTime","disabledDate","startOf","SessionOwnerSetterCard","ErrorBoundary","fallbackRender","console","log","ImageEnvironmentSelectFormItems","EnvVarFormList","validateTrigger","ResourceAllocationFormItems","enableNumOfSessions","enableResourcePresets","showRemainingWarning","checkedChildren","unCheckedChildren","_prev$hpcOptimization","_next$hpcOptimization","marginMD","xs","sm","InputNumber","stringMode","VFolderTableFormItem","vfolder","_vfolder$name","startsWith","PortSelectFormItem","findIndex","labelStyle","whiteSpace","contentStyle","overflow","SourceCodeViewer","language","idx","flexFlow","sizeXS","wordBreak","copyable","customizedTag","SyntaxHighlighter","dark","codeTagProps","customStyle","variable","join","getFieldWarning","Alert","showIcon","wrap","opacity","_form$getFieldValue15","alias","Popconfirm","onConfirm","resetFields","QuestionCircleOutlined","danger","LeftOutlined","Tooltip","PlayCircleOutlined","startSession","usedSearchParams","_values$owner","mounts","modal","confirm","content","imageFullName","kernelName","architecture","sessionInfo","config","bootstrap_script","startsAt","startupCommand","group_name","domain","domainName","scaling_group","owner_access_key","cluster_mode","cluster_size","maxWaitSeconds","cpu","mem","compareNumberWithUnits","mount_map","vfoldersAliasMap","env","preopen_ports","ports","sessionPromises","num_of_sessions","formattedSessionName","createIfNotExists","res","created","err","_err$message","includes","backupTo","window","location","pathname","backgroundTask","promise","statusDescriptions","pending","resolved","duration","firstSession","sessionId","appOptions","kernelId","service_info","servicePorts","Array","isArray","a","globalThis","appLauncher","showLauncher","to","toText","ghost","RightOutlined","DoubleRightOutlined","lg","position","top","Steps","nextCurrent","items","s","SessionTemplateModal","formValue","fieldsValue","SessionLauncherValidationTour","scrollIntoViewOptions"],"sourceRoot":""}